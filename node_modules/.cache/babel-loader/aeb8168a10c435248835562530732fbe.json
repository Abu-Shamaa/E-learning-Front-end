{"ast":null,"code":"var _jsxFileName = \"/home/shama/webapps/ionicblog/src/components/user/uquiz/ViewQuestion.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport baseUrl, { api } from '../../../pages/Urls';\nimport { useHistory, useParams } from \"react-router\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ViewQuestion = props => {\n  _s();\n\n  const [questions, setQuestions] = useState([]);\n  const [option, setOption] = useState([]);\n  const {\n    id\n  } = useParams();\n  const history = useHistory();\n  useEffect(() => {\n    fetch(`${baseUrl}${api.viewQuestion}${id}`, {\n      method: 'GET',\n      headers: {\n        Accept: 'application/json',\n        'Content-Type': 'application/json',\n        'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n      }\n    }).then(res => res.json()).then(result => {\n      setQuestions(result);\n      setOption(result.map(op => op.answer));\n    }).catch(function (error) {\n      console.log(error);\n    });\n  }, []);\n\n  const getResults = (questions, answers) => {\n    let complete = true;\n    let score = 0;\n    questions.forEach(question => {\n      const givenAnswer = answers[question.id];\n\n      if (givenAnswer === undefined) {\n        complete = false;\n      }\n\n      if (givenAnswer === question.answer) {\n        score++;\n      }\n    });\n    return {\n      score,\n      complete\n    };\n  }; //console.log('op', option)\n\n\n  const [answer, setAnswer] = useState([]);\n  const [score, setScore] = useState(0);\n\n  const handleSubmit = evt => {\n    evt.preventDefault();\n    const {\n      complete,\n      score\n    } = getResults(questions, answer);\n\n    if (complete) {\n      setScore(score);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"Quiz\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"Quiz-heading\",\n      children: \"Quiz \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSubmit,\n      children: [questions.map(x => {\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"Quiz-question\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [x.question, \" \"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"Quiz-options\",\n            children: option[qIdx].map((ans, idx) => /*#__PURE__*/_jsxDEV(\"div\", {\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"radio\",\n                value: ans,\n                name: x.id,\n                checked: answer[x.id] === ans,\n                onChange: () => setAnswer(answer => ({ ...answer,\n                  [x.id]: ans\n                }))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 89,\n                columnNumber: 41\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                children: ans\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 41\n              }, this)]\n            }, idx, true, {\n              fileName: _jsxFileName,\n              lineNumber: 88,\n              columnNumber: 37\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 29\n          }, this)]\n        }, x.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 25\n        }, this);\n      }), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        className: \"Quiz-submit\",\n        children: [' ', \"Submit\", ' ']\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Score will be shown here\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"Quiz-output\",\n      children: /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: score === 0 ? 'Score: For each correct answer you will get 1 point' : 'score: ' + score\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ViewQuestion, \"JpzgbhBdsU7EBIbnD3KMy1hfcKI=\", false, function () {\n  return [useParams, useHistory];\n});\n\n_c = ViewQuestion;\nexport default ViewQuestion;\n\nvar _c;\n\n$RefreshReg$(_c, \"ViewQuestion\");","map":{"version":3,"names":["React","useState","useEffect","baseUrl","api","useHistory","useParams","ViewQuestion","props","questions","setQuestions","option","setOption","id","history","fetch","viewQuestion","method","headers","Accept","localStorage","getItem","then","res","json","result","map","op","answer","catch","error","console","log","getResults","answers","complete","score","forEach","question","givenAnswer","undefined","setAnswer","setScore","handleSubmit","evt","preventDefault","x","qIdx","ans","idx"],"sources":["/home/shama/webapps/ionicblog/src/components/user/uquiz/ViewQuestion.tsx"],"sourcesContent":["\nimport React, { useState, useEffect, useRef } from 'react';\nimport baseUrl, { api } from '../../../pages/Urls';\nimport { useHistory, useParams } from \"react-router\";\nimport { Link } from 'react-router-dom';\nconst ViewQuestion: React.FC = (props) => {\n    type ViewQuestionParams = {\n        id: string;\n    };\n    const [questions, setQuestions] = useState([]);\n    const [option, setOption]: any[] = useState([]);\n    const { id } = useParams<ViewQuestionParams>();\n    const history = useHistory();\n\n\n\n\n    useEffect(() => {\n\n        fetch(`${baseUrl}${api.viewQuestion}${id}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n            },\n        })\n            .then(res => res.json())\n            .then(result => {\n                setQuestions(result);\n                setOption(result.map((op: any) => (op.answer)));\n            })\n\n\n            .catch(function (error) {\n                console.log(error);\n            })\n\n\n    }, [])\n    const getResults = (questions: any, answers: any) => {\n        let complete = true;\n        let score = 0;\n\n        questions.forEach((question: any) => {\n            const givenAnswer = answers[question.id];\n\n            if (givenAnswer === undefined) {\n                complete = false;\n            }\n            if (givenAnswer === question.answer) {\n                score++;\n            }\n        });\n\n        return {\n            score,\n            complete,\n        };\n    };\n\n    //console.log('op', option)\n    const [answer, setAnswer] = useState([]);\n    const [score, setScore] = useState(0);\n\n    const handleSubmit = (evt: any) => {\n        evt.preventDefault();\n\n        const { complete, score } = getResults(questions, answer);\n\n        if (complete) {\n            setScore(score);\n        }\n    };\n\n    return (\n        <div className='Quiz'>\n            <h1 className='Quiz-heading'>Quiz </h1>\n\n            <form onSubmit={handleSubmit}>\n                {questions.map((x: any) => {\n                    return (\n                        <div key={x.id} className='Quiz-question'>\n                            <h3>{x.question} </h3>\n\n                            <div className='Quiz-options'>\n                                {option[qIdx].map((ans: any, idx: any) => (\n                                    <div key={idx}>\n                                        <input\n                                            type='radio'\n                                            value={ans}\n                                            name={x.id}\n                                            checked={answer[x.id] === ans}\n                                            onChange={() =>\n                                                setAnswer((answer: any) => ({\n                                                    ...answer,\n                                                    [x.id]: ans,\n                                                }))\n                                            }\n                                        />\n                                        <label>{ans}</label>\n                                    </div>\n                                ))}\n                            </div>\n\n                        </div>\n                    );\n                })}\n                <button type='submit' className='Quiz-submit'>\n                    {' '}\n                    Submit{' '}\n                </button>\n            </form>\n\n            <h1>Score will be shown here</h1>\n            <div className='Quiz-output'>\n                <h2>\n                    {score === 0\n                        ? 'Score: For each correct answer you will get 1 point'\n                        : 'score: ' + score}\n                </h2>\n            </div>\n        </div>\n    );\n};\n\nexport default ViewQuestion;"],"mappings":"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"},"metadata":{},"sourceType":"module"}