{"ast":null,"code":"import _objectSpread from\"/home/shama/webapps/ionicblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{IonButton,IonInput,IonItem,IonLabel,IonCardContent,IonCard,IonCardHeader,IonCardTitle,IonToolbar,IonTitle}from\"@ionic/react\";import React from'react';import{Editor}from'@tinymce/tinymce-react';import baseUrl,{api}from'../../pages/Urls';import{Collapse}from'react-bootstrap';import swal from'sweetalert';import{useForm,Controller}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddTopicArticle=function AddTopicArticle(props){var _useForm=useForm({defaultValues:{topic_name:localStorage.getItem(\"topic_name\"),name:'',content:''}}),handleSubmit=_useForm.handleSubmit,register=_useForm.register,errors=_useForm.formState.errors,reset=_useForm.reset,control=_useForm.control,setValue=_useForm.setValue;var addTopicArticle=function addTopicArticle(e){{fetch(\"\".concat(baseUrl).concat(api.addTopicArticle),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(e)}).then(function(response){if(response.status===200){props.fetchViewTopic();props.onClose();reset({name:'',content:'',topic_name:localStorage.getItem(\"topic_name\")});swal({title:\"Success!\",text:\"Topic Article Created successfully\",icon:\"success\"});}else{throw Error([response.status,response.statusText].join(' '));}}).catch(function(error){return console.log('error',error);});}};return/*#__PURE__*/_jsx(Collapse,{in:props.open,children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 mb-5 \",children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonCardTitle,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center display-6\",children:\"add Topic Article\"})})})})}),/*#__PURE__*/_jsx(IonCardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addTopicArticle),children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Title\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({placeholder:\"name\",type:\"text\"},register(\"name\",{required:\"Name Is Required\"})))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"name\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Content\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"3%\",marginBottom:\"3%\"},children:/*#__PURE__*/_jsx(Controller,{name:\"content\",control:control,rules:{required:'Content is required'},render:function render(_ref){var rest=Object.assign({},_ref.field);return/*#__PURE__*/_jsx(Editor,{textareaName:\"content\",value:rest.value,init:{height:500,width:1030,menubar:true,plugins:['advlist','autolink','lists','link','image','charmap','preview','anchor','searchreplace','visualblocks','code','fullscreen','insertdatetime','media','table','code','help','wordcount'],toolbar:'undo redo | blocks | '+'bold italic forecolor | alignleft aligncenter '+'alignright alignjustify | bullist numlist outdent indent | '+'removeformat | help',content_style:'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'},onEditorChange:function onEditorChange(e){setValue('content',e);}});}})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"content\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"3%\"},className:\"text-center mb-5\",children:[/*#__PURE__*/_jsx(IonButton,{color:\"danger\",onClick:props.onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(IonButton,{color:\"primary\",type:\"submit\",children:\"Create\"})]})]})})]})})});};export default AddTopicArticle;","map":{"version":3,"names":["IonButton","IonInput","IonItem","IonLabel","IonCardContent","IonCard","IonCardHeader","IonCardTitle","IonToolbar","IonTitle","React","Editor","baseUrl","api","Collapse","swal","useForm","Controller","ErrorMessage","AddTopicArticle","props","defaultValues","topic_name","localStorage","getItem","name","content","handleSubmit","register","errors","formState","reset","control","setValue","addTopicArticle","e","fetch","method","headers","Accept","body","JSON","stringify","then","response","status","fetchViewTopic","onClose","title","text","icon","Error","statusText","join","catch","error","console","log","open","required","color","marginTop","marginBottom","rest","field","value","height","width","menubar","plugins","toolbar","content_style"],"sources":["/home/shama/webapps/ionicblog/src/pages/teacher/AddTopicArticle.tsx"],"sourcesContent":["import {\n\n    IonButton,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonCardContent,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonToolbar,\n    IonTitle,\n\n\n} from \"@ionic/react\";\nimport React, { useEffect, useState } from 'react';\nimport { Editor } from '@tinymce/tinymce-react';\nimport baseUrl, { api } from '../../pages/Urls';\nimport { Collapse } from 'react-bootstrap';\nimport swal from 'sweetalert';\nimport { useForm, Controller } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nconst AddTopicArticle: React.FC<{\n    onClose: () => void;\n    fetchViewTopic: () => void;\n    open: boolean;\n    topic_name: string\n}> = (props) => {\n\n\n    const {\n        handleSubmit,\n        register,\n        formState: { errors },\n        reset,\n        control,\n        setValue,\n    } = useForm({\n        defaultValues: {\n            topic_name: localStorage.getItem(\"topic_name\"),\n            name: '',\n            content: '',\n\n        }\n    });\n    const addTopicArticle = (e: any) => {\n        {\n\n            fetch(`${baseUrl}${api.addTopicArticle}`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n                },\n                body: JSON.stringify(e),\n\n            })\n\n                .then(response => {\n                    if (response.status === 200) {\n                        props.fetchViewTopic();\n                        props.onClose();\n                        reset({\n                            name: '',\n                            content: '',\n                            topic_name: localStorage.getItem(\"topic_name\"),\n\n                        })\n                        swal({\n                            title: \"Success!\",\n                            text: \"Topic Article Created successfully\",\n                            icon: \"success\",\n                        });\n\n                    }\n                    else {\n                        throw Error([response.status, response.statusText].join(' '));\n                    }\n                })\n\n                .catch(error => console.log('error', error));\n\n        }\n\n    }\n    return (\n        <Collapse in={props.open}>\n            <div className=\"container mt-5 mb-5 \">\n\n                <IonCard>\n                    <IonCardHeader>\n                        <IonCardTitle>\n                            <IonToolbar>\n                                <IonTitle><h1 className=\"text-center display-6\">add Topic Article</h1></IonTitle>\n                            </IonToolbar>\n                        </IonCardTitle>\n                    </IonCardHeader>\n                    <IonCardContent>\n\n                        <form onSubmit={handleSubmit(addTopicArticle)}>\n                            <IonItem>\n                                <IonLabel position=\"stacked\">Title</IonLabel>\n                                <IonInput placeholder=\"name\"\n                                    type=\"text\"\n                                    {...register(\"name\", { required: \"Name Is Required\" })}\n                                >\n                                </IonInput>\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"name\" />\n                            </p>\n\n                            <IonItem>\n                                <IonLabel position=\"stacked\" >Content</IonLabel>\n                                <div style={{ marginTop: \"3%\", marginBottom: \"3%\" }}>\n                                    <Controller\n                                        name=\"content\"\n                                        control={control}\n                                        rules={{\n                                            required: 'Content is required',\n                                        }}\n                                        render={({ field: { ...rest } }) => (\n                                            <Editor\n                                                textareaName=\"content\"\n                                                value={rest.value}\n\n                                                init={{\n                                                    height: 500,\n                                                    width: 1030,\n                                                    menubar: true,\n                                                    plugins: [\n\n                                                        'advlist', 'autolink', 'lists', 'link', 'image', 'charmap', 'preview',\n                                                        'anchor', 'searchreplace', 'visualblocks', 'code', 'fullscreen',\n                                                        'insertdatetime', 'media', 'table', 'code', 'help', 'wordcount'\n\n                                                    ],\n\n                                                    toolbar: 'undo redo | blocks | ' +\n                                                        'bold italic forecolor | alignleft aligncenter ' +\n                                                        'alignright alignjustify | bullist numlist outdent indent | ' +\n                                                        'removeformat | help',\n                                                    content_style: 'body { font-family:Helvetica,Arial,sans-serif; font-size:14px }'\n\n                                                }}\n                                                onEditorChange={(e) => {\n                                                    setValue('content', e)\n                                                }}\n                                            />\n\n                                        )}\n                                    />\n                                </div>\n\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"content\" />\n                            </p>\n\n                            <div style={{ marginTop: \"3%\" }} className=\"text-center mb-5\">\n                                <IonButton color=\"danger\" onClick={props.onClose}>Cancel</IonButton>\n                                <IonButton color=\"primary\" type=\"submit\">\n                                    Create\n                                </IonButton>\n\n                            </div>\n                        </form>\n                    </IonCardContent>\n                </IonCard>\n\n            </div>\n\n        </Collapse>\n    );\n}\nexport default AddTopicArticle;"],"mappings":"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"},"metadata":{},"sourceType":"module"}