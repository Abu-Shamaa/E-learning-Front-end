{"ast":null,"code":"import _slicedToArray from\"/mnt/disk2/ionicapps/elearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonContent,IonCard,IonCardContent,IonCardHeader,IonCardTitle,IonNote}from'@ionic/react';import Box from'@mui/material/Box';import InputAdornment from'@mui/material/InputAdornment';import TextField from'@mui/material/TextField';import SearchIcon from'@mui/icons-material/Search';import React,{useState,useEffect}from'react';import baseUrl,{api}from'../pages/Urls';import{useParams}from\"react-router\";import{Link}from'react-router-dom';import{format}from'date-fns';import ReactPaginate from\"react-paginate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ArticleCategory=function ArticleCategory(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useParams=useParams(),slug=_useParams.slug;var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pageNumber=_useState4[0],setPageNumber=_useState4[1];var articlePerPage=10;var pagesVisited=pageNumber*articlePerPage;var pageCount=Math.ceil(article.length/articlePerPage);var changePage=function changePage(_ref){var selected=_ref.selected;setPageNumber(selected);};var fetchCategoryArticle=function fetchCategoryArticle(){fetch(\"\".concat(baseUrl).concat(api.catArticle).concat(slug),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(resp){setArticle(resp);});};useEffect(function(){fetchCategoryArticle();},[]);var search=function search(text){if(text){var matches=article.filter(function(item){var regex=new RegExp(\"\".concat(text),\"gi\");return item.title.match(regex);});setArticle(matches);}else{fetchCategoryArticle();}};return/*#__PURE__*/_jsxs(IonContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid mt-3 mb-5\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Articles Post\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:\"flex-end\",mx:1},children:/*#__PURE__*/_jsx(TextField,{id:\"input-with-icon-textfield\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})},variant:\"standard\",onChange:function onChange(e){return search(e.target.value);}})}),article.length!=0?/*#__PURE__*/_jsx(Box,{sx:{width:'100%',mb:2,mt:3},children:(articlePerPage>0?article.slice(pagesVisited,pagesVisited+articlePerPage):article).map(function(item,i){return/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonCardTitle,{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary\",children:/*#__PURE__*/_jsx(Link,{className:\"text-decoration-none\",to:\"/\".concat(format(new Date(item.date),'yyyy'),\"/\").concat(format(new Date(item.date),'MM'),\"/\").concat(format(new Date(item.date),'dd'),\"/\").concat(item.slug),children:item.title})})})}),/*#__PURE__*/_jsx(IonCardContent,{children:format(new Date(item.date),'yyyy-MM-dd')})]},i.toString());})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(IonNote,{color:\"danger\",children:\"**No match data**\"})})]}),article.length!=0&&article.length>articlePerPage?/*#__PURE__*/_jsx(ReactPaginate,{nextLabel:\" >\",onPageChange:changePage,pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:pageCount,previousLabel:\"< \",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",previousClassName:\"page-item\",previousLinkClassName:\"page-link\",nextClassName:\"page-item\",nextLinkClassName:\"page-link\",breakLabel:\"...\",breakClassName:\"page-item\",breakLinkClassName:\"page-link\",containerClassName:\"pagination\",activeClassName:\"active\",renderOnZeroPageCount:null||undefined}):'']});};export default ArticleCategory;","map":{"version":3,"names":["IonContent","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonNote","Box","InputAdornment","TextField","SearchIcon","React","useState","useEffect","baseUrl","api","useParams","Link","format","ReactPaginate","ArticleCategory","article","setArticle","slug","pageNumber","setPageNumber","articlePerPage","pagesVisited","pageCount","Math","ceil","length","changePage","selected","fetchCategoryArticle","fetch","catArticle","method","headers","Accept","then","resp","json","search","text","matches","filter","item","regex","RegExp","title","match","display","justifyContent","mx","startAdornment","e","target","value","width","mb","mt","slice","map","i","Date","date","toString","undefined"],"sources":["/mnt/disk2/ionicapps/elearn/src/pages/ArticleCategory.tsx"],"sourcesContent":["import {\n    IonContent,\n    IonCard, IonCardContent, IonCardHeader, IonCardTitle,\n    IonNote,\n\n} from '@ionic/react';\nimport Box from '@mui/material/Box';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport SearchIcon from '@mui/icons-material/Search';\nimport React, { useState, useEffect } from 'react';\nimport baseUrl, { api } from '../pages/Urls';\nimport { useParams } from \"react-router\";\nimport { Link } from 'react-router-dom';\nimport { format } from 'date-fns';\nimport ReactPaginate from \"react-paginate\";\nconst ArticleCategory: React.FC = () => {\n    type ArticleCategoryParams = {\n        slug: string;\n    };\n    const [article, setArticle] = useState([]);\n    const { slug } = useParams<ArticleCategoryParams>();\n\n    const [pageNumber, setPageNumber] = useState(0);\n    const articlePerPage = 10;\n    const pagesVisited = pageNumber * articlePerPage;\n    const pageCount = Math.ceil(article.length / articlePerPage);\n    const changePage = ({ selected }: any) => {\n        setPageNumber(selected);\n    };\n    const fetchCategoryArticle = () => {\n        fetch(`${baseUrl}${api.catArticle}${slug}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setArticle(resp)\n            })\n    }\n\n    useEffect(() => {\n        fetchCategoryArticle();\n    }, [])\n\n    const search = (text: any) => {\n        if (text) {\n            let matches = article.filter((item: any) => {\n                const regex = new RegExp(`${text}`, \"gi\");\n                return item.title.match(regex);\n            })\n            setArticle(matches);\n        } else {\n            fetchCategoryArticle();\n        }\n\n    };\n    return (\n        <IonContent>\n\n            <div className=\"container-fluid mt-3 mb-5\">\n                <h2 >Recent Articles Post</h2>\n                <hr />\n                <Box sx={{ display: 'flex', justifyContent: \"flex-end\", mx: 1 }}>\n                    <TextField\n                        id=\"input-with-icon-textfield\"\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon />\n                                </InputAdornment>\n                            ),\n                        }}\n                        variant=\"standard\"\n                        onChange={(e: any) => search(e.target.value)}\n                    />\n                </Box>\n                {\n                    article.length != 0 ?\n                        <Box sx={{ width: '100%', mb: 2, mt: 3 }}>\n\n\n                            {(articlePerPage > 0\n                                ? article.slice(pagesVisited, pagesVisited + articlePerPage)\n                                : article).map((item: any, i: any) => (\n                                    <IonCard key={i.toString()}>\n                                        <IonCardHeader>\n                                            <IonCardTitle>\n                                                <h4 className=\"text-primary\"><Link className='text-decoration-none' to={`/${format(new Date(item.date), 'yyyy')}/${format(new Date(item.date), 'MM')}/${format(new Date(item.date), 'dd')}/${item.slug}`}>{item.title}</Link></h4>\n                                            </IonCardTitle>\n\n                                        </IonCardHeader>\n\n                                        <IonCardContent>\n                                            {format(new Date(item.date), 'yyyy-MM-dd')}\n                                        </IonCardContent>\n                                    </IonCard>\n\n                                ))}\n\n                        </Box>\n                        :\n                        <div className='text-center mt-5'>\n                            <IonNote color=\"danger\">**No match data**</IonNote>\n                        </div>\n\n                }\n            </div>\n\n            {\n                article.length != 0 && article.length > articlePerPage ?\n                    <ReactPaginate\n                        nextLabel=\" >\"\n                        onPageChange={changePage}\n                        pageRangeDisplayed={3}\n                        marginPagesDisplayed={2}\n                        pageCount={pageCount}\n                        previousLabel=\"< \"\n                        pageClassName=\"page-item\"\n                        pageLinkClassName=\"page-link\"\n                        previousClassName=\"page-item\"\n                        previousLinkClassName=\"page-link\"\n                        nextClassName=\"page-item\"\n                        nextLinkClassName=\"page-link\"\n                        breakLabel=\"...\"\n                        breakClassName=\"page-item\"\n                        breakLinkClassName=\"page-link\"\n                        containerClassName=\"pagination\"\n                        activeClassName=\"active\"\n                        renderOnZeroPageCount={null || undefined}\n                    /> : ''\n            }\n\n\n        </IonContent >\n\n    );\n}\n\n\nexport default ArticleCategory;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}