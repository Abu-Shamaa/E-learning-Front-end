{"ast":null,"code":"import _objectSpread from\"/home/shama/webapps/ionicblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{IonButton,IonInput,IonItem,IonLabel,IonCardContent,IonCard,IonCardHeader,IonCardTitle,IonToolbar,IonTitle,IonSelect,IonSelectOption}from\"@ionic/react\";import React from'react';import baseUrl,{api}from\"../../../pages/Urls\";import{Collapse}from'react-bootstrap';import{useForm}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddCourse=function AddCourse(props){var _useForm=useForm({defaultValues:{course_name:'',description:'',crs_inst:[]}}),handleSubmit=_useForm.handleSubmit,register=_useForm.register,errors=_useForm.formState.errors,reset=_useForm.reset;var addCourse=function addCourse(e){{fetch(\"\".concat(baseUrl).concat(api.addCourse),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(e)}).then(function(response){if(response.status===200){reset({course_name:'',description:'',crs_inst:[]});props.onClose();props.fetchCourse();swal({title:\"Success!\",text:\"Course Created successfully\",icon:\"success\"});}// else {\n//     throw new Error(response.errors);\n// }\n}).catch(function(errors){return console.log(errors.response.data.errors);});}};return/*#__PURE__*/_jsx(Collapse,{in:props.collapse,children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 mb-5 \",children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonCardTitle,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center display-6\",children:\"Create Course\"})})})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(IonCardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addCourse),children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Course Name\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({placeholder:\"Course Name\",type:\"text\"},register(\"course_name\",{required:\"Course Name Is Required\"})))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"course_name\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Description\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({type:\"text\",placeholder:\"Course description\"},register(\"description\")))]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Course Instructor\"}),/*#__PURE__*/_jsx(IonSelect,_objectSpread(_objectSpread({},register(\"crs_inst\",{required:\"Course Instructor Is Required\"})),{},{placeholder:\"Select instructors\",multiple:true,children:props.instructor.map(function(item,i){return/*#__PURE__*/_jsx(IonSelectOption,{children:item.name},i.toString());})}))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"crs_inst\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"3%\"},className:\"text-center mb-5\",children:[/*#__PURE__*/_jsx(IonButton,{color:\"danger\",onClick:props.onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(IonButton,{color:\"primary\",type:\"submit\",children:\"Create\"})]})]})})]})})});};export default AddCourse;","map":{"version":3,"names":["IonButton","IonInput","IonItem","IonLabel","IonCardContent","IonCard","IonCardHeader","IonCardTitle","IonToolbar","IonTitle","IonSelect","IonSelectOption","React","baseUrl","api","Collapse","useForm","ErrorMessage","swal","AddCourse","props","defaultValues","course_name","description","crs_inst","handleSubmit","register","errors","formState","reset","addCourse","e","fetch","method","headers","Accept","localStorage","getItem","body","JSON","stringify","then","response","status","onClose","fetchCourse","title","text","icon","catch","console","log","data","collapse","required","color","instructor","map","item","i","name","toString","marginTop"],"sources":["/home/shama/webapps/ionicblog/src/pages/admin/quiz/AddCourse.tsx"],"sourcesContent":["import {\n\n    IonButton,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonCardContent,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonToolbar,\n    IonTitle,\n    IonSelect,\n    IonSelectOption,\n\n} from \"@ionic/react\";\nimport React from 'react';\nimport baseUrl, { api } from \"../../../pages/Urls\";\nimport { Collapse } from 'react-bootstrap'\nimport { useForm } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport swal from 'sweetalert';\nconst AddCourse: React.FC<{\n\n    collapse: boolean\n    instructor: any[]\n    onClose: () => void;\n    fetchCourse: () => void;\n\n}> = (props) => {\n\n\n    const {\n        handleSubmit,\n        register,\n        formState: { errors },\n        reset,\n\n    } = useForm({\n        defaultValues: {\n            course_name: '',\n            description: '',\n            crs_inst: [],\n\n        }\n    });\n\n\n    const addCourse = (e: any) => {\n        {\n\n            fetch(`${baseUrl}${api.addCourse}`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n                },\n                body: JSON.stringify(e),\n            })\n\n                .then(response => {\n                    if (response.status === 200) {\n                        reset(\n                            {\n                                course_name: '',\n                                description: '',\n                                crs_inst: [],\n                            }\n\n                        )\n                        props.onClose();\n                        props.fetchCourse();\n                        swal({\n                            title: \"Success!\",\n                            text: \"Course Created successfully\",\n                            icon: \"success\",\n                        });\n\n                    }\n\n                    // else {\n                    //     throw new Error(response.errors);\n                    // }\n                })\n\n                .catch(errors => console.log(errors.response.data.errors));\n\n        }\n    }\n\n    return (\n        <Collapse in={props.collapse}>\n\n            <div className=\"container mt-5 mb-5 \">\n                <IonCard>\n                    <IonCardHeader>\n                        <IonCardTitle>\n                            <IonToolbar>\n                                <IonTitle><h1 className=\"text-center display-6\">Create Course</h1></IonTitle>\n                            </IonToolbar>\n                        </IonCardTitle>\n                    </IonCardHeader>\n                    <hr />\n\n                    <IonCardContent>\n                        <form onSubmit={handleSubmit(addCourse)}>\n                            <IonItem>\n                                <IonLabel position=\"stacked\">Course Name</IonLabel>\n                                <IonInput\n                                    placeholder=\"Course Name\"\n                                    type=\"text\"\n                                    {...register(\"course_name\", { required: \"Course Name Is Required\" })}\n                                ></IonInput>\n\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"course_name\" />\n                            </p>\n\n                            <IonItem>\n                                <IonLabel position=\"stacked\">Description</IonLabel>\n                                <IonInput type=\"text\"\n                                    placeholder=\"Course description\"\n\n                                    {...register(\"description\")}\n                                >\n                                </IonInput>\n                            </IonItem>\n\n                            <IonItem >\n                                <IonLabel position=\"stacked\">Course Instructor</IonLabel>\n                                <IonSelect\n\n                                    {...register(\"crs_inst\", { required: \"Course Instructor Is Required\" })}\n\n                                    placeholder=\"Select instructors\" multiple={true}>\n                                    {props.instructor.map((item: any, i: any) => (\n                                        < IonSelectOption key={i.toString()}>{item.name}</IonSelectOption>\n                                    ))}\n                                </IonSelect>\n\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"crs_inst\" /></p>\n\n                            <div style={{ marginTop: \"3%\" }} className=\"text-center mb-5\">\n                                <IonButton color=\"danger\" onClick={props.onClose}>\n                                    Cancel\n                                </IonButton>\n                                <IonButton color=\"primary\" type=\"submit\">\n                                    Create\n                                </IonButton>\n\n                            </div>\n                        </form>\n                    </IonCardContent>\n\n                </IonCard>\n\n            </div>\n\n\n        </Collapse>\n    );\n}\n\nexport default AddCourse;"],"mappings":"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"},"metadata":{},"sourceType":"module"}