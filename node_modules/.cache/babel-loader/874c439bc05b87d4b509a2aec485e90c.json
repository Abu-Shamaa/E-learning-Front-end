{"ast":null,"code":"import _objectSpread from\"/home/shama/webapps/ionicblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React from'react';import baseUrl,{api}from'../../pages/Urls';import{Collapse}from'react-bootstrap';import{useForm}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import{IonButton,IonInput,IonItem,IonLabel,IonCardContent,IonCard,IonCardHeader,IonCardTitle,IonToolbar,IonTitle,IonSelect,IonSelectOption}from\"@ionic/react\";import swal from'sweetalert';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var AddLevel=function AddLevel(props){var _useForm=useForm({defaultValues:{level_name:'',course_name:props.course_name,ltopic:[]}}),handleSubmit=_useForm.handleSubmit,register=_useForm.register,errors=_useForm.formState.errors,reset=_useForm.reset;var addLevel=function addLevel(e){{fetch(\"\".concat(baseUrl).concat(api.addLevel),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(e)}).then(function(response){if(response.status===200){props.fetchShowCourse();props.onClose();reset({course_name:props.course_name,level_name:'',ltopic:[]});swal({title:\"Success!\",text:\"Level Created successfully\",icon:\"success\"});}else{throw Error([response.status,response.statusText].join(' '));}}).catch(function(error){return console.log('error',error);});}};return/*#__PURE__*/_jsx(Collapse,{in:props.open,children:/*#__PURE__*/_jsx(\"div\",{id:\"collapseID\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 mb-5 \",children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonCardTitle,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:/*#__PURE__*/_jsx(\"h1\",{className:\"text-center display-6\",children:\"Create Level\"})})})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(IonCardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(addLevel),children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Level Name\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({placeholder:\"level Name\",type:\"text\"},register(\"level_name\",{required:\"Level Name Is Required\"})))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"level_name\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Topic\"}),/*#__PURE__*/_jsx(IonSelect,_objectSpread(_objectSpread({},register(\"ltopic\",{required:\"Topic Is Required\"})),{},{placeholder:\"Select topic\",multiple:true,children:props.topic.map(function(item,i){return/*#__PURE__*/_jsx(IonSelectOption,{children:item.topic_name},i.toString());})}))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"ltopic\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"3%\"},className:\"text-center mb-5\",children:[/*#__PURE__*/_jsx(IonButton,{color:\"danger\",onClick:props.onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(IonButton,{color:\"primary\",type:\"submit\",children:\"Create\"})]})]})})]})})})});};export default AddLevel;","map":{"version":3,"names":["React","baseUrl","api","Collapse","useForm","ErrorMessage","IonButton","IonInput","IonItem","IonLabel","IonCardContent","IonCard","IonCardHeader","IonCardTitle","IonToolbar","IonTitle","IonSelect","IonSelectOption","swal","AddLevel","props","defaultValues","level_name","course_name","ltopic","handleSubmit","register","errors","formState","reset","addLevel","e","fetch","method","headers","Accept","localStorage","getItem","body","JSON","stringify","then","response","status","fetchShowCourse","onClose","title","text","icon","Error","statusText","join","catch","error","console","log","open","required","color","topic","map","item","i","topic_name","toString","marginTop"],"sources":["/home/shama/webapps/ionicblog/src/pages/teacher/AddLevel.tsx"],"sourcesContent":["\nimport React, { FC, useState } from 'react';\nimport baseUrl, { api } from '../../pages/Urls';\nimport { Collapse } from 'react-bootstrap';\nimport { useForm } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport {\n\n    IonButton,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonCardContent,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonToolbar,\n    IonTitle,\n    IonSelect,\n    IonSelectOption,\n} from \"@ionic/react\";\nimport swal from 'sweetalert';\nconst AddLevel: FC<{\n    onClose: () => void;\n    fetchShowCourse: () => void;\n    open: boolean;\n    topic: any\n    course_name: string\n}> = (props) => {\n\n\n    const {\n        handleSubmit,\n        register,\n        formState: { errors },\n        reset,\n\n    } = useForm({\n        defaultValues: {\n            level_name: '',\n            course_name: props.course_name,\n            ltopic: [],\n\n        }\n    });\n    const addLevel = (e: any) => {\n        {\n\n            fetch(`${baseUrl}${api.addLevel}`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n                },\n                body: JSON.stringify(e),\n            })\n\n                .then(response => {\n                    if (response.status === 200) {\n                        props.fetchShowCourse();\n                        props.onClose();\n                        reset(\n                            {\n                                course_name: props.course_name,\n                                level_name: '',\n                                ltopic: [],\n                            }\n\n                        )\n                        swal({\n                            title: \"Success!\",\n                            text: \"Level Created successfully\",\n                            icon: \"success\",\n                        });\n\n                    }\n                    else {\n                        throw Error([response.status, response.statusText].join(' '));\n                    }\n                })\n\n                .catch(error => console.log('error', error));\n\n        }\n    }\n    return (\n        <Collapse in={props.open}>\n            <div id=\"collapseID\">\n                <div className=\"container mt-5 mb-5 \">\n\n                    <IonCard>\n                        <IonCardHeader>\n                            <IonCardTitle>\n                                <IonToolbar>\n                                    <IonTitle><h1 className=\"text-center display-6\">Create Level</h1></IonTitle>\n                                </IonToolbar>\n                            </IonCardTitle>\n                        </IonCardHeader>\n                        <hr />\n                        <IonCardContent>\n                            <form onSubmit={handleSubmit(addLevel)}>\n                                <IonItem>\n                                    <IonLabel position=\"stacked\">Level Name</IonLabel>\n                                    <IonInput\n                                        placeholder=\"level Name\"\n                                        type=\"text\"\n                                        {...register(\"level_name\", { required: \"Level Name Is Required\" })}\n                                    >\n                                    </IonInput>\n                                </IonItem>\n                                <p style={{ color: \"red\" }}>\n                                    <ErrorMessage errors={errors} name=\"level_name\" />\n                                </p>\n                                <IonItem>\n                                    <IonLabel position=\"stacked\">Topic</IonLabel>\n                                    <IonSelect\n                                        {...register(\"ltopic\", { required: \"Topic Is Required\" })}\n\n                                        placeholder=\"Select topic\" multiple={true}>\n                                        {props.topic.map((item: any, i: any) => (\n                                            < IonSelectOption key={i.toString()}>{item.topic_name}</IonSelectOption>\n                                        ))}\n                                    </IonSelect>\n\n                                </IonItem>\n\n                                <p style={{ color: \"red\" }}>\n                                    <ErrorMessage errors={errors} name=\"ltopic\" /></p>\n\n                                <div style={{ marginTop: \"3%\" }} className=\"text-center mb-5\">\n                                    <IonButton color=\"danger\" onClick={props.onClose}>\n                                        Cancel\n                                    </IonButton>\n                                    <IonButton color=\"primary\" type=\"submit\">\n                                        Create\n                                    </IonButton>\n\n                                </div>\n                            </form>\n                        </IonCardContent>\n                    </IonCard>\n\n                </div>\n\n            </div>\n        </Collapse>\n    );\n}\nexport default AddLevel;"],"mappings":"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"},"metadata":{},"sourceType":"module"}