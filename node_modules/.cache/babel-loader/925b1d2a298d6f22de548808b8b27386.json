{"ast":null,"code":"import _objectSpread from\"/mnt/disk2/ionicapps/elearn/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/mnt/disk2/ionicapps/elearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonButton,IonInput,IonItem,IonLabel,IonCardContent,IonCard,IonCardHeader,IonCardTitle,IonToolbar,IonTitle,IonContent}from\"@ionic/react\";import React,{useMemo,useState,useEffect}from'react';import MaterialReactTable from'material-react-table';import{Box,Button,Dialog,DialogActions,DialogContent,DialogTitle,IconButton,FormControl,NativeSelect,Stack,Tooltip}from'@mui/material';import{Delete,Edit,Add,Visibility}from'@mui/icons-material';import baseUrl,{api,tinyMceKey}from'../../../pages/Urls';import{Editor}from'@tinymce/tinymce-react';import{Collapse}from'react-bootstrap';import{format}from\"date-fns\";import swal from'sweetalert';import Select from'react-select';import{useForm,Controller}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import{AdapterDateFns}from\"@mui/x-date-pickers/AdapterDateFns\";import{TextField}from\"@mui/material\";import{DesktopDatePicker,LocalizationProvider}from\"@mui/x-date-pickers\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Articles=function Articles(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),collapse=_useState4[0],setCollapse=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),modalOpen=_useState6[0],setModalOpen=_useState6[1];var _useState7=useState({}),_useState8=_slicedToArray(_useState7,2),articleData=_useState8[0],setArticleData=_useState8[1];var _useState9=useState([]),_useState10=_slicedToArray(_useState9,2),showArtGroup=_useState10[0],setShowArtGroup=_useState10[1];var _useState11=useState([]),_useState12=_slicedToArray(_useState11,2),showArtCategory=_useState12[0],setShowArtCategory=_useState12[1];var _useState13=useState([{}]),_useState14=_slicedToArray(_useState13,2),groupOptions=_useState14[0],setGroupOptions=_useState14[1];var _useState15=useState([{}]),_useState16=_slicedToArray(_useState15,2),categoryOptions=_useState16[0],setCategoryOptions=_useState16[1];var _useState17=useState(''),_useState18=_slicedToArray(_useState17,2),error=_useState18[0],setError=_useState18[1];var _useState19=useState(''),_useState20=_slicedToArray(_useState19,2),artID=_useState20[0],setArtId=_useState20[1];var type=artID?\"E\":\"C\";//console.log(getValues('id'))\n// const editorRef = useRef<TinyMCEEditor | null>(null);\nvar _useForm=useForm({defaultValues:{id:'',title:'',slug:'',content:'',status:'',category:[{}],gname:[{}],date:format(new Date(),\"yyyy-MM-dd\")}}),handleSubmit=_useForm.handleSubmit,register=_useForm.register,errors=_useForm.formState.errors,reset=_useForm.reset,control=_useForm.control,setValue=_useForm.setValue,clearErrors=_useForm.clearErrors,getValues=_useForm.getValues;var _fetchArticle=function fetchArticle(){fetch(\"\".concat(baseUrl).concat(api.allArticle),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(resp){setArticle(resp.reverse());});};var fetchGroup=function fetchGroup(){fetch(\"\".concat(baseUrl).concat(api.allGroup),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(resp){setGroupOptions(resp.map(function(item){return{label:item.name,value:item.name};}));});};var fetchCategory=function fetchCategory(){fetch(\"\".concat(baseUrl).concat(api.allCategory),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(resp){setCategoryOptions(resp.map(function(item){return{label:item.name,value:item.name};}));});};useEffect(function(){_fetchArticle();fetchGroup();fetchCategory();},[]);var columns=useMemo(function(){return[{accessorKey:'user.name',header:'Created By'},{accessorKey:'title',header:'Title'},{accessorKey:'slug',header:'Slug'},{accessorKey:'status',header:'Status',Cell:function Cell(_ref){var cell=_ref.cell;return cell.getValue()===\"P\"&&'Publish'||cell.getValue()===\"D\"&&'Draft'||cell.getValue()===\"R\"&&'Review';}},{accessorFn:function accessorFn(row){return format(new Date(row.date),\"yyyy-MM-dd\");},accessorKey:'date',header:'Date'}];},[]);var handleChange=function handleChange(e){var slg=e.target.value;if(slg){fetch(\"\".concat(baseUrl).concat(api.checkSlug).concat(slg),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(res){if(Object.keys(res).length!=0){setError('Slug already exists');}else{setError('');}});}};var makeSlug=function makeSlug(e){var data={'title':e.target.value};fetch(\"\".concat(baseUrl).concat(api.createSlug),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(data)}).then(function(res){return res.json();}).then(function(res){setValue('slug',res);});};//console.log(artID);\nvar editArticle=function editArticle(id){setArtId(id);fetch(\"\".concat(baseUrl).concat(api.editArticle).concat(id),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(res){return res.json();}).then(function(result){setValue('title',result.article.title);//setSlug(result.article.slug);\nsetValue('content',result.article.content);setValue('status',result.article.status);setValue('date',result.article.date);setValue('id',result.article.id);setShowArtGroup(result.article.group);setShowArtCategory(result.article.category);setValue('gname',result.article.group.map(function(item){return{label:item.name,value:item.name};}));setValue('category',result.article.category.map(function(item){return{label:item.name,value:item.name};}));}).catch(function(error){console.log(error);});};var addArticle=function addArticle(e){{fetch(\"\".concat(baseUrl).concat(api.createArticle),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(e)}).then(function(response){if(response.status===200){_fetchArticle();setCollapse(false);swal({title:\"Success!\",text:\"Article Created successfully\",icon:\"success\"});}else{swal({title:\"Error!\",text:response.status+' '+response.statusText+\" - Article not Created\",icon:\"error\"});}}).catch(function(errors){return console.log(errors.response.data.errors);});}};var updateArticle=function updateArticle(e){fetch(\"\".concat(baseUrl).concat(api.updatetArticle).concat(e.id),{method:'PUT',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))},body:JSON.stringify(e)}).then(function(res){if(res.status===200){_fetchArticle();setCollapse(false);swal({title:\"Success!\",text:\"Article Updated successfully\",icon:\"success\"});}else{swal({title:\"Error!\",text:res.status+' '+res.statusText+\" - Article not updated\",icon:\"error\"});}}).catch(function(error){return console.log('error',error);});};var deleteArticle=function deleteArticle(id){if(window.confirm('Are you sure?')){fetch(\"\".concat(baseUrl).concat(api.deleteArticle).concat(id),{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(res){if(res.status===200){_fetchArticle();swal({title:\"Success!\",text:\"Article move to trash successfully\",icon:\"success\"});}else{swal({title:\"Error!\",text:res.status+' '+res.statusText+\" - Article not move to trash\",icon:\"error\"});}}).catch(function(error){return console.log('error',error);});}};var onSubmit=function onSubmit(e){type===\"C\"?addArticle(e):updateArticle(e);};return/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(Collapse,{in:collapse,children:/*#__PURE__*/_jsx(\"div\",{id:\"collapseID\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mt-5 mb-5 \",children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonCardTitle,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:/*#__PURE__*/_jsxs(\"h1\",{className:\"text-center display-6\",children:[type===\"C\"?\"Create\":\"Edit\",\" Article\"]})})})})}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(IonCardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),children:[type==='C'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Title\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread(_objectSpread({placeholder:\"Title\",type:\"text\"},register(\"title\",{required:\"Title Is Required\"})),{},{onBlur:function onBlur(e){///setTitle(e.target.value)\nsetValue('title',e.target.value);makeSlug(e);}}))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"title\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Slug\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread(_objectSpread({placeholder:\"slug\",type:\"text\"},register(\"slug\",{required:\"Slug Is Required\"})),{},{onIonChange:function onIonChange(e){return handleChange(e);}}))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"slug\"})}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:error?error:''})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Title\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread(_objectSpread({placeholder:\"Title\",type:\"text\"},register(\"title\",{required:\"Title Is Required\"})),{},{onIonChange:function onIonChange(e){return setValue('title',e.target.value);}}))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"title\"})})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Content\"}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"3%\",marginBottom:\"3%\"},children:/*#__PURE__*/_jsx(Controller,{name:\"content\",control:control,rules:{required:'Content is required'},render:function render(_ref2){var rest=Object.assign({},_ref2.field);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"input\",{id:\"my-file\",type:\"file\",name:\"my-file\",style:{display:\"none\"}}),/*#__PURE__*/_jsx(Editor,{apiKey:tinyMceKey,textareaName:\"content\",value:rest.value//onInit={(evt, editor) => editorRef.current = editor}\n,init:{height:500,width:830,menubar:true,plugins:['a11ychecker','advlist','advcode','advtable','autolink','checklist','export','lists','link','image','charmap','preview','anchor','searchreplace','visualblocks','powerpaste','fullscreen','formatpainter','insertdatetime','media','table','help','wordcount'],toolbar:'undo redo | casechange blocks | bold italic backcolor | '+'alignleft aligncenter alignright alignjustify | '+'bullist numlist checklist outdent indent | removeformat | a11ycheck code table help',image_title:true,automatic_uploads:true,file_picker_types:'image',content_style:'body {font - family:Helvetica,Arial,sans-serif; font-size:14px }'},onEditorChange:function onEditorChange(e){setValue('content',e);}})]});}})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"content\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Category\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",style:{width:'100%'},children:/*#__PURE__*/_jsx(Controller,{control:control,name:\"category\",rules:{required:'Category is required'},render:function render(){return/*#__PURE__*/_jsx(Select,{menuPortalTarget:document.body,options:categoryOptions,placeholder:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\",children:\" Select Category\"}),value:getValues('category'),onChange:function onChange(e){return setValue('category',e);},isMulti:true});}})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"category\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Group\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-2\",style:{width:'100%'},children:/*#__PURE__*/_jsx(Controller,{control:control,name:\"gname\",render:function render(){return/*#__PURE__*/_jsx(Select,{menuPortalTarget:document.body,options:groupOptions,placeholder:/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-search\",children:\" Select Group\"}),value:getValues('gname'),onChange:function onChange(e){return setValue('gname',e);},isMulti:true});}})})]}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Status\"}),/*#__PURE__*/_jsx(Box,{sx:{width:'100%'},children:/*#__PURE__*/_jsx(FormControl,{fullWidth:true,sx:{mt:1},children:/*#__PURE__*/_jsx(NativeSelect,_objectSpread(_objectSpread({},register(\"status\",{required:\"Status Is Required\"})),{},{children:localStorage.getItem('role')=='ar_staff1'?/*#__PURE__*/_jsx(\"option\",{value:\"R\",children:\"Review\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"option\",{value:\"P\",children:\"Publish\"}),/*#__PURE__*/_jsx(\"option\",{value:\"D\",children:\"Draft\"}),/*#__PURE__*/_jsx(\"option\",{value:\"R\",children:\"Review\"})]})}))})})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"status\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Date\"}),/*#__PURE__*/_jsx(Controller,{name:\"date\",control:control,rules:{required:'Date is required'},defaultValue:format(new Date(),\"yyyy-MM-dd\"),render:function render(_ref3){var rest=Object.assign({},_ref3.field);return/*#__PURE__*/_jsx(LocalizationProvider,{dateAdapter:AdapterDateFns,children:/*#__PURE__*/_jsx(DesktopDatePicker,{inputFormat:\"yyyy-MM-dd\",value:rest.value,onChange:function onChange(e){setValue(\"date\",format(e,\"yyyy-MM-dd\"));},renderInput:function renderInput(params){return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},params),{},{sx:{mt:1,width:'100%'}}));}})});}})]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"date\"})}),/*#__PURE__*/_jsxs(\"div\",{style:{marginTop:\"3%\"},className:\"text-center mb-5\",children:[/*#__PURE__*/_jsx(IonButton,{color:\"danger\",onClick:function onClick(){return setCollapse(false);},children:\"Cancel\"}),/*#__PURE__*/_jsx(IonButton,{color:\"primary\",type:\"submit\",children:type===\"C\"?\"Create\":\"Save\"})]})]})})]})})})}),/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-2\",children:\"List of Articles\"}),/*#__PURE__*/_jsx(MaterialReactTable,{columns:columns,data:article,getRowId:function getRowId(row){return\"\".concat(row.id);},enableRowActions:true,positionActionsColumn:\"last\",enableRowNumbers:true,enableColumnOrdering:true,renderRowActions:function renderRowActions(_ref4){var row=_ref4.row,table=_ref4.table;return/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:'1rem'},children:[localStorage.getItem('role')=='ar_staff2'?'':/*#__PURE__*/_jsx(Tooltip,{arrow:true,placement:\"left\",title:\"Edit\",children:/*#__PURE__*/_jsx(IconButton,{\"aria-expanded\":collapse,\"aria-controls\":\"collapseID\",onClick:function onClick(){editArticle(row.id);setCollapse(!collapse);clearErrors(['title','content','category','status']);},children:/*#__PURE__*/_jsx(Edit,{})})}),/*#__PURE__*/_jsx(Tooltip,{arrow:true,placement:\"left\",title:\"View\",children:/*#__PURE__*/_jsx(IconButton,{onClick:function onClick(){editArticle(row.id);setModalOpen(true);setArticleData(row.original);},children:/*#__PURE__*/_jsx(Visibility,{})})}),/*#__PURE__*/_jsx(Tooltip,{arrow:true,placement:\"right\",title:\"Trash\",children:/*#__PURE__*/_jsx(IconButton,{style:{color:\"green\"},onClick:function onClick(){return deleteArticle(row.id);},children:/*#__PURE__*/_jsx(Delete,{})})})]});},renderTopToolbarCustomActions:function renderTopToolbarCustomActions(){return/*#__PURE__*/_jsx(_Fragment,{children:localStorage.getItem('role')=='ar_staff2'?'':/*#__PURE__*/_jsx(Tooltip,{title:\"Add-Article\",children:/*#__PURE__*/_jsxs(IconButton,{\"aria-expanded\":collapse,onClick:function onClick(){setCollapse(!collapse);setArtId('');reset({id:'',title:'',slug:'',content:'',status:'D',gname:[],category:categoryOptions===null||categoryOptions===void 0?void 0:categoryOptions.slice(0,1)});},children:[\"Create \",/*#__PURE__*/_jsx(Add,{})]})})});}}),/*#__PURE__*/_jsx(ViewArticle,{open:modalOpen,onClose:function onClose(){setModalOpen(false);},showArtGroup:showArtGroup,showArtCategory:showArtCategory,articleData:articleData,fetchArticle:function fetchArticle(){return _fetchArticle();}})]})});};var ViewArticle=function ViewArticle(props){var approveArticle=function approveArticle(){fetch(\"\".concat(baseUrl).concat(api.approveArticle).concat(props.articleData.id),{method:'PUT',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(res){return res.json();}).then(function(res){if(res){props.fetchArticle();props.onClose();}}).catch(function(error){return console.log('error',error);});};return/*#__PURE__*/_jsxs(Dialog,{open:props.open,children:[/*#__PURE__*/_jsx(DialogTitle,{textAlign:\"center\",children:\"View Article\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsxs(Stack,{sx:{width:'100%',minWidth:{xs:'300px',sm:'360px',md:'400px'}//gap: '1.5rem',\n},children:[/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonLabel,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Article Status\"}),/*#__PURE__*/_jsx(\"p\",{children:props.articleData.status==='P'&&'Publish'||props.articleData.status==='D'&&'Draft'||props.articleData.status==='R'&&'Review'})]})}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonLabel,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Article Title\"}),/*#__PURE__*/_jsx(\"p\",{children:props.articleData.title})]})}),props.showArtGroup.length>0?/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonLabel,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Article Groups\"}),props.showArtGroup.map(function(item,i){return/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[\" \",item.name]},i);})]})}):'',props.showArtCategory.length>0?/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonLabel,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Article Category\"}),props.showArtCategory.map(function(item,i){return/*#__PURE__*/_jsxs(\"p\",{className:\"mt-3\",children:[\" \",item.name]},i);})]})}):'',/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsxs(IonLabel,{children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-3\",children:\"Article Content\"}),/*#__PURE__*/_jsx(\"p\",{dangerouslySetInnerHTML:{__html:props.articleData.content}})]})}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(\"p\",{children:props.articleData.date?format(new Date(props.articleData.date),\"yyyy-MM-dd\"):format(new Date(),\"yyyy-MM-dd\")})})]})}),/*#__PURE__*/_jsxs(DialogActions,{sx:{p:'1.25rem'},children:[/*#__PURE__*/_jsx(Button,{onClick:props.onClose,children:\"Cancel\"}),localStorage.getItem('role')=='ar_mgmt'&&props.articleData.status==='R'?/*#__PURE__*/_jsx(Button,{onClick:approveArticle,children:\"Publish\"}):'']})]});};export default Articles;","map":{"version":3,"names":["IonButton","IonInput","IonItem","IonLabel","IonCardContent","IonCard","IonCardHeader","IonCardTitle","IonToolbar","IonTitle","IonContent","React","useMemo","useState","useEffect","MaterialReactTable","Box","Button","Dialog","DialogActions","DialogContent","DialogTitle","IconButton","FormControl","NativeSelect","Stack","Tooltip","Delete","Edit","Add","Visibility","baseUrl","api","tinyMceKey","Editor","Collapse","format","swal","Select","useForm","Controller","ErrorMessage","AdapterDateFns","TextField","DesktopDatePicker","LocalizationProvider","Articles","article","setArticle","collapse","setCollapse","modalOpen","setModalOpen","articleData","setArticleData","showArtGroup","setShowArtGroup","showArtCategory","setShowArtCategory","groupOptions","setGroupOptions","categoryOptions","setCategoryOptions","error","setError","artID","setArtId","type","defaultValues","id","title","slug","content","status","category","gname","date","Date","handleSubmit","register","errors","formState","reset","control","setValue","clearErrors","getValues","fetchArticle","fetch","allArticle","method","headers","Accept","localStorage","getItem","then","resp","json","reverse","fetchGroup","allGroup","map","item","label","name","value","fetchCategory","allCategory","columns","accessorKey","header","Cell","cell","getValue","accessorFn","row","handleChange","e","slg","target","checkSlug","res","Object","keys","length","makeSlug","data","createSlug","body","JSON","stringify","editArticle","result","group","catch","console","log","addArticle","createArticle","response","text","icon","statusText","updateArticle","updatetArticle","deleteArticle","window","confirm","onSubmit","required","color","marginTop","marginBottom","rest","field","display","height","width","menubar","plugins","toolbar","image_title","automatic_uploads","file_picker_types","content_style","document","mt","params","table","gap","original","slice","ViewArticle","props","approveArticle","onClose","open","minWidth","xs","sm","md","i","__html","p"],"sources":["/mnt/disk2/ionicapps/elearn/src/pages/admin/articles/Articles.tsx"],"sourcesContent":["import {\n\n    IonButton,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonCardContent,\n    IonCard,\n    IonCardHeader,\n    IonCardTitle,\n    IonToolbar,\n    IonTitle,\n    IonContent,\n\n} from \"@ionic/react\";\nimport React, { FC, useMemo, useState, useEffect, useRef } from 'react';\nimport MaterialReactTable, {\n    MRT_ColumnDef,\n} from 'material-react-table';\nimport {\n    Box,\n    Button,\n    Dialog,\n    DialogActions,\n    DialogContent,\n    DialogTitle,\n    IconButton,\n    FormControl,\n    NativeSelect,\n    Stack,\n    Tooltip,\n    InputLabel,\n} from '@mui/material';\nimport { Delete, Edit, Add, Visibility } from '@mui/icons-material';\nimport baseUrl, { api, tinyMceKey } from '../../../pages/Urls';\nimport { Editor } from '@tinymce/tinymce-react';\nimport { Collapse } from 'react-bootstrap'\nimport { format } from \"date-fns\";\nimport swal from 'sweetalert';\nimport Select from 'react-select';\nimport { useForm, Controller } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport { AdapterDateFns } from \"@mui/x-date-pickers/AdapterDateFns\";\nimport { TextField } from \"@mui/material\";\nimport { DesktopDatePicker, LocalizationProvider } from \"@mui/x-date-pickers\";\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\ntype article_Data = {\n    id: string;\n    user: {\n        name: string;\n    };\n    title: string;\n    slug: string;\n    date: string;\n    status: string;\n\n\n};\n\nconst Articles: FC = () => {\n    const [article, setArticle] = useState([]);\n    const [collapse, setCollapse] = useState(false);\n    const [modalOpen, setModalOpen] = useState(false);\n    const [articleData, setArticleData] = useState({});\n    const [showArtGroup, setShowArtGroup] = useState([]);\n    const [showArtCategory, setShowArtCategory] = useState([]);\n    const [groupOptions, setGroupOptions] = useState([{}]);\n    const [categoryOptions, setCategoryOptions] = useState([{}]);\n    const [error, setError] = useState('');\n    const [artID, setArtId] = useState('');\n    const type = artID ? \"E\" : \"C\";\n    //console.log(getValues('id'))\n    // const editorRef = useRef<TinyMCEEditor | null>(null);\n    const {\n        handleSubmit,\n        register,\n        formState: { errors },\n        reset,\n        control,\n        setValue,\n        clearErrors,\n        getValues\n    } = useForm({\n        defaultValues: {\n            id: '',\n            title: '',\n            slug: '',\n            content: '',\n            status: '',\n            category: [{}],\n            gname: [{}],\n            date: format(new Date(), \"yyyy-MM-dd\"),\n\n        },\n\n    });\n    const fetchArticle = () => {\n        fetch(`${baseUrl}${api.allArticle}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setArticle(resp.reverse())\n            })\n    }\n    const fetchGroup = () => {\n        fetch(`${baseUrl}${api.allGroup}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setGroupOptions(resp.map((item: any) => ({\n                    label: item.name,\n                    value: item.name\n                })));\n            })\n    }\n    const fetchCategory = () => {\n        fetch(`${baseUrl}${api.allCategory}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setCategoryOptions(resp.map((item: any) => ({\n                    label: item.name,\n                    value: item.name\n                })))\n            })\n    }\n    useEffect(() => {\n        fetchArticle();\n        fetchGroup();\n        fetchCategory();\n    }, [])\n    const columns = useMemo<MRT_ColumnDef<article_Data>[]>(\n        () => [\n\n\n            {\n                accessorKey: 'user.name',\n                header: 'Created By',\n\n            },\n            {\n                accessorKey: 'title',\n                header: 'Title',\n\n            },\n            {\n                accessorKey: 'slug',\n                header: 'Slug',\n\n            },\n            {\n                accessorKey: 'status',\n                header: 'Status',\n                Cell: ({ cell }) => (\n                    cell.getValue<string>() === \"P\" && 'Publish' ||\n                    cell.getValue<string>() === \"D\" && 'Draft' ||\n                    cell.getValue<string>() === \"R\" && 'Review'\n\n                ),\n\n            },\n            {\n                accessorFn: (row) => format(new Date(row.date), \"yyyy-MM-dd\"),\n                accessorKey: 'date',\n                header: 'Date',\n\n            },\n\n\n\n\n        ],\n        [],\n    );\n    const handleChange = (e: any) => {\n\n        const slg = e.target.value;\n\n        if (slg) {\n            fetch(`${baseUrl}${api.checkSlug}${slg}`, {\n                method: 'GET',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n                },\n            })\n                .then(resp => resp.json())\n                .then(res => {\n                    if (Object.keys(res).length != 0) {\n                        setError('Slug already exists')\n                    } else {\n                        setError('');\n                    }\n                })\n        }\n\n\n\n    }\n\n\n\n    const makeSlug = (e: any) => {\n\n        let data = {\n            'title': e.target.value,\n        }\n        fetch(`${baseUrl}${api.createSlug}`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n            },\n            body: JSON.stringify(data),\n        }).then(res => res.json())\n            .then((res) => {\n                setValue('slug', res)\n            })\n\n\n\n    }\n\n\n    //console.log(artID);\n    const editArticle = (id: any) => {\n        setArtId(id)\n        fetch(`${baseUrl}${api.editArticle}${id}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(res => res.json())\n            .then(result => {\n                setValue('title', result.article.title);\n                //setSlug(result.article.slug);\n                setValue('content', result.article.content);\n                setValue('status', result.article.status);\n                setValue('date', result.article.date);\n                setValue('id', result.article.id);\n                setShowArtGroup(result.article.group);\n                setShowArtCategory(result.article.category);\n                setValue('gname',\n\n                    result.article.group.map((item: any) => ({\n                        label: item.name,\n                        value: item.name\n                    }))\n\n\n                );\n                setValue('category',\n\n                    result.article.category.map((item: any) => ({\n                        label: item.name,\n                        value: item.name\n                    }))\n\n                );\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n\n\n    }\n\n    const addArticle = (e: any) => {\n        {\n            fetch(`${baseUrl}${api.createArticle}`, {\n                method: 'POST',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n                },\n                body: JSON.stringify(e),\n            })\n\n                .then(response => {\n                    if (response.status === 200) {\n                        fetchArticle();\n                        setCollapse(false)\n                        swal({\n                            title: \"Success!\",\n                            text: \"Article Created successfully\",\n                            icon: \"success\",\n                        });\n                    } else {\n                        swal({\n                            title: \"Error!\",\n                            text: response.status + ' ' + response.statusText + \" - Article not Created\",\n                            icon: \"error\",\n                        });\n                    }\n\n\n                })\n\n                .catch(errors => console.log(errors.response.data.errors));\n        }\n    }\n\n    const updateArticle = (e: any) => {\n\n        fetch(`${baseUrl}${api.updatetArticle}${e.id}`, {\n            method: 'PUT',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n            },\n            body: JSON.stringify(e),\n        })\n\n            .then(res => {\n                if (res.status === 200) {\n                    fetchArticle();\n                    setCollapse(false)\n                    swal({\n                        title: \"Success!\",\n                        text: \"Article Updated successfully\",\n                        icon: \"success\",\n                    });\n\n                } else {\n                    swal({\n                        title: \"Error!\",\n                        text: res.status + ' ' + res.statusText + \" - Article not updated\",\n                        icon: \"error\",\n                    });\n                }\n\n            })\n            .catch(error => console.log('error', error));\n\n\n    }\n    const deleteArticle = (id: any) => {\n        if (window.confirm('Are you sure?')) {\n            fetch(`${baseUrl}${api.deleteArticle}${id}`, {\n                method: 'DELETE',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n                }\n\n            })\n\n                .then(res => {\n                    if (res.status === 200) {\n                        fetchArticle();\n\n                        swal({\n                            title: \"Success!\",\n                            text: \"Article move to trash successfully\",\n                            icon: \"success\",\n                        });\n                    } else {\n                        swal({\n                            title: \"Error!\",\n                            text: res.status + ' ' + res.statusText +\n                                \" - Article not move to trash\",\n                            icon: \"error\",\n                        });\n                    }\n\n                })\n                .catch(error => console.log('error', error));\n        }\n    }\n    const onSubmit = (e: any) => {\n        type === \"C\" ? addArticle(e) : updateArticle(e);\n    }\n\n\n\n\n    return (\n        <IonContent>\n            <div className=\"container mt-5\">\n\n                <Collapse in={collapse}>\n                    <div id=\"collapseID\">\n                        <div className=\"container mt-5 mb-5 \">\n\n                            <IonCard>\n                                <IonCardHeader>\n                                    <IonCardTitle>\n                                        <IonToolbar>\n                                            <IonTitle><h1 className=\"text-center display-6\">{type === \"C\" ? \"Create\" : \"Edit\"} Article</h1></IonTitle>\n                                        </IonToolbar>\n                                    </IonCardTitle>\n                                </IonCardHeader>\n                                <hr />\n                                <IonCardContent>\n                                    <form onSubmit={handleSubmit(onSubmit)}>\n                                        {type === 'C' ?\n                                            <>\n                                                <IonItem>\n                                                    <IonLabel position=\"stacked\">Title</IonLabel>\n                                                    <IonInput placeholder=\"Title\"\n                                                        type=\"text\"\n                                                        {...register(\"title\", { required: \"Title Is Required\" })}\n                                                        onBlur={(e: any) => {\n                                                            ///setTitle(e.target.value)\n                                                            setValue('title', e.target.value)\n                                                            makeSlug(e)\n                                                        }}\n                                                    >\n                                                    </IonInput>\n                                                </IonItem>\n                                                <p style={{ color: \"red\" }}>\n                                                    <ErrorMessage errors={errors} name=\"title\" />\n                                                </p>\n\n\n                                                <IonItem>\n                                                    <IonLabel position=\"stacked\">Slug</IonLabel>\n                                                    <IonInput placeholder=\"slug\"\n                                                        type=\"text\"\n\n                                                        {...register(\"slug\", { required: \"Slug Is Required\" })}\n                                                        onIonChange={(e: any) => handleChange(e)}\n                                                    >\n                                                    </IonInput>\n                                                </IonItem>\n                                                <p style={{ color: \"red\" }}>\n                                                    <ErrorMessage errors={errors} name=\"slug\" />\n                                                </p>\n                                                <p style={{ color: \"red\" }}>\n                                                    {error ? error : ''}\n                                                </p>\n                                            </>\n                                            :\n                                            <>\n                                                <IonItem>\n                                                    <IonLabel position=\"stacked\">Title</IonLabel>\n                                                    <IonInput placeholder=\"Title\"\n                                                        type=\"text\"\n                                                        {...register(\"title\", { required: \"Title Is Required\" })}\n                                                        onIonChange={(e: any) => setValue('title', e.target.value)}\n                                                    >\n                                                    </IonInput>\n                                                </IonItem>\n                                                <p style={{ color: \"red\" }}>\n                                                    <ErrorMessage errors={errors} name=\"title\" />\n                                                </p>\n                                            </>\n                                        }\n                                        <IonItem>\n                                            <IonLabel position=\"stacked\" >Content</IonLabel>\n                                            <div style={{ marginTop: \"3%\", marginBottom: \"3%\" }}>\n                                                <Controller\n                                                    name=\"content\"\n                                                    control={control}\n                                                    rules={{\n                                                        required: 'Content is required',\n                                                    }}\n                                                    render={({ field: { ...rest } }) => (\n                                                        <>\n                                                            <input\n                                                                id=\"my-file\"\n                                                                type=\"file\"\n                                                                name=\"my-file\"\n                                                                style={{ display: \"none\" }}\n                                                            />\n                                                            <Editor\n                                                                apiKey={tinyMceKey}\n                                                                textareaName=\"content\"\n                                                                value={rest.value}\n                                                                //onInit={(evt, editor) => editorRef.current = editor}\n                                                                init={{\n                                                                    height: 500,\n                                                                    width: 830,\n                                                                    menubar: true,\n                                                                    plugins: [\n                                                                        'a11ychecker', 'advlist', 'advcode', 'advtable', 'autolink', 'checklist', 'export',\n                                                                        'lists', 'link', 'image', 'charmap', 'preview', 'anchor', 'searchreplace', 'visualblocks',\n                                                                        'powerpaste', 'fullscreen', 'formatpainter', 'insertdatetime', 'media', 'table', 'help', 'wordcount'\n                                                                    ],\n                                                                    toolbar: 'undo redo | casechange blocks | bold italic backcolor | ' +\n                                                                        'alignleft aligncenter alignright alignjustify | ' +\n                                                                        'bullist numlist checklist outdent indent | removeformat | a11ycheck code table help',\n                                                                    image_title: true,\n                                                                    automatic_uploads: true,\n                                                                    file_picker_types: 'image',\n\n                                                                    content_style: 'body {font - family:Helvetica,Arial,sans-serif; font-size:14px }'\n\n\n\n                                                                }}\n\n                                                                onEditorChange={(e) => {\n                                                                    setValue('content', e)\n                                                                }}\n                                                            />\n                                                        </>\n\n\n                                                    )}\n                                                />\n                                            </div>\n\n                                        </IonItem>\n                                        <p style={{ color: \"red\" }}>\n                                            <ErrorMessage errors={errors} name=\"content\" />\n                                        </p>\n                                        <IonItem>\n                                            <IonLabel position=\"stacked\">Category</IonLabel>\n                                            <div className=\"mt-2\" style={{ width: '100%' }}>\n\n                                                <Controller\n                                                    control={control}\n                                                    name=\"category\"\n                                                    rules={{\n                                                        required: 'Category is required',\n                                                    }}\n                                                    render={() => (\n                                                        <Select\n\n                                                            menuPortalTarget={document.body}\n                                                            options={categoryOptions}\n                                                            placeholder={<i className=\"bi bi-search\"> Select Category</i>}\n                                                            value={getValues('category')}\n                                                            onChange={(e: any) => setValue('category', e)}\n                                                            isMulti\n\n                                                        />\n\n                                                    )}\n\n                                                />\n                                            </div>\n\n                                        </IonItem>\n\n                                        <p style={{ color: \"red\" }}>\n                                            <ErrorMessage errors={errors} name=\"category\" />\n                                        </p>\n                                        <IonItem>\n                                            <IonLabel position=\"stacked\">Group</IonLabel>\n                                            <div className=\"mt-2\" style={{ width: '100%' }}>\n\n                                                <Controller\n                                                    control={control}\n                                                    name=\"gname\"\n                                                    render={() => (\n                                                        <Select\n                                                            menuPortalTarget={document.body}\n                                                            options={groupOptions}\n                                                            placeholder={<i className=\"bi bi-search\"> Select Group</i>}\n                                                            value={getValues('gname')}\n                                                            onChange={(e: any) => setValue('gname', e)}\n                                                            isMulti\n\n                                                        />\n\n                                                    )}\n\n                                                />\n                                            </div>\n\n                                        </IonItem>\n                                        <IonItem>\n                                            <IonLabel position=\"stacked\">Status</IonLabel>\n\n\n                                            <Box sx={{ width: '100%' }}>\n                                                <FormControl fullWidth sx={{ mt: 1 }}>\n\n                                                    <NativeSelect\n                                                        {...register(\"status\", { required: \"Status Is Required\" })}\n\n                                                    >\n\n                                                        {(localStorage.getItem('role') == 'ar_staff1') ?\n\n                                                            <option value='R'>Review</option> :\n                                                            <>\n                                                                <option value='P'>Publish</option>\n                                                                <option value='D'>Draft</option>\n                                                                <option value='R'>Review</option>\n\n                                                            </>\n                                                        }\n\n                                                    </NativeSelect>\n                                                </FormControl>\n                                            </Box>\n\n\n\n                                        </IonItem>\n                                        <p style={{ color: \"red\" }}>\n                                            <ErrorMessage errors={errors} name=\"status\" />\n                                        </p>\n\n                                        <IonItem>\n                                            <IonLabel position=\"stacked\">Date</IonLabel>\n\n                                            <Controller\n                                                name=\"date\"\n                                                control={control}\n                                                rules={{\n                                                    required: 'Date is required',\n                                                }}\n                                                defaultValue={format(new Date(), \"yyyy-MM-dd\")}\n                                                render={({ field: { ...rest } }) => (\n                                                    <LocalizationProvider dateAdapter={AdapterDateFns}>\n                                                        <DesktopDatePicker\n\n                                                            inputFormat=\"yyyy-MM-dd\"\n\n                                                            value={rest.value}\n                                                            onChange={(e: any) => {\n                                                                setValue(\"date\", format(e, \"yyyy-MM-dd\"));\n\n                                                            }}\n                                                            renderInput={(params) => (\n                                                                <TextField {...params} sx={{ mt: 1, width: '100%' }} />\n                                                            )}\n                                                        />\n                                                    </LocalizationProvider>\n                                                )}\n                                            />\n\n                                        </IonItem>\n\n                                        <p style={{ color: \"red\" }}>\n                                            <ErrorMessage errors={errors} name=\"date\" />\n                                        </p>\n                                        <div style={{ marginTop: \"3%\" }} className=\"text-center mb-5\">\n                                            <IonButton color=\"danger\" onClick={() => setCollapse(false)}>\n                                                Cancel\n                                            </IonButton>\n                                            <IonButton color=\"primary\" type=\"submit\">\n                                                {type === \"C\" ? \"Create\" : \"Save\"}\n                                            </IonButton>\n\n                                        </div>\n                                    </form>\n                                </IonCardContent>\n                            </IonCard>\n\n                        </div>\n\n                    </div>\n                </Collapse>\n\n                <h1 className='text-center mb-2'>List of Articles</h1>\n                <MaterialReactTable\n                    columns={columns}\n                    data={article}\n                    getRowId={(row => `${row.id}`)}\n                    enableRowActions\n                    positionActionsColumn=\"last\"\n                    enableRowNumbers\n                    enableColumnOrdering\n                    renderRowActions={({ row, table }) => (\n                        <Box sx={{ display: 'flex', gap: '1rem' }}>\n                            {(localStorage.getItem('role') == 'ar_staff2') ? '' :\n                                <Tooltip arrow placement=\"left\" title=\"Edit\" >\n                                    <IconButton aria-expanded={collapse} aria-controls=\"collapseID\" onClick={() => {\n                                        editArticle(row.id)\n                                        setCollapse(!collapse)\n                                        clearErrors([\n                                            'title',\n                                            'content',\n                                            'category',\n                                            'status'\n                                        ])\n                                    }}>\n\n                                        <Edit />\n                                    </IconButton>\n                                </Tooltip>\n                            }\n                            <Tooltip arrow placement=\"left\" title=\"View\" >\n                                <IconButton onClick={() => {\n                                    editArticle(row.id)\n                                    setModalOpen(true);\n                                    setArticleData(row.original)\n                                }}>\n\n                                    <Visibility />\n                                </IconButton>\n                            </Tooltip>\n                            <Tooltip arrow placement=\"right\" title=\"Trash\">\n                                <IconButton style={{ color: \"green\" }} onClick={() => deleteArticle(row.id)}>\n                                    <Delete />\n                                </IconButton>\n                            </Tooltip>\n                        </Box>\n                    )}\n                    renderTopToolbarCustomActions={() => (\n                        <>\n                            {(localStorage.getItem('role') == 'ar_staff2') ? '' :\n                                <Tooltip title=\"Add-Article\">\n                                    <IconButton aria-expanded={collapse} onClick={() => {\n                                        setCollapse(!collapse)\n                                        setArtId('')\n                                        reset({\n                                            id: '',\n                                            title: '',\n                                            slug: '',\n                                            content: '',\n                                            status: 'D',\n                                            gname: [],\n                                            category: categoryOptions?.slice(0, 1),\n\n                                        })\n                                    }}>\n                                        Create <Add />\n                                    </IconButton>\n                                </Tooltip>\n                            }\n                        </>\n                    )}\n\n                />\n                <ViewArticle\n                    open={modalOpen}\n                    onClose={() => {\n                        setModalOpen(false)\n\n                    }}\n                    showArtGroup={showArtGroup}\n                    showArtCategory={showArtCategory}\n                    articleData={articleData}\n                    fetchArticle={() => fetchArticle()}\n                />\n            </div>\n        </IonContent>\n\n    );\n\n};\n\nconst ViewArticle: FC<{\n    onClose: () => void;\n    fetchArticle: () => void;\n\n    open: boolean;\n    articleData: any;\n    showArtGroup: any;\n    showArtCategory: any;\n\n}> = (props) => {\n\n    const approveArticle = () => {\n\n        fetch(`${baseUrl}${api.approveArticle}${props.articleData.id}`, {\n            method: 'PUT',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n\n        })\n\n            .then(res => res.json())\n            .then(res => {\n                if (res) {\n                    props.fetchArticle();\n                    props.onClose();\n\n                }\n\n            })\n            .catch(error => console.log('error', error));\n    }\n\n    return (\n        <Dialog open={props.open}>\n            <DialogTitle textAlign=\"center\">View Article</DialogTitle>\n            <DialogContent>\n                <Stack\n                    sx={{\n                        width: '100%',\n                        minWidth: { xs: '300px', sm: '360px', md: '400px' },\n                        //gap: '1.5rem',\n                    }}\n                >\n                    <IonItem>\n                        <IonLabel>\n                            <h2 className=\"mb-3\">Article Status</h2>\n                            <p>{\n                                props.articleData.status === 'P' && 'Publish' ||\n                                props.articleData.status === 'D' && 'Draft' ||\n                                props.articleData.status === 'R' && 'Review'\n\n                            }</p>\n                        </IonLabel>\n                    </IonItem>\n                    <IonItem>\n                        <IonLabel>\n                            <h2 className=\"mb-3\">Article Title</h2>\n                            <p>{props.articleData.title}</p>\n                        </IonLabel>\n                    </IonItem>\n                    {props.showArtGroup.length > 0 ?\n                        <IonItem >\n                            <IonLabel>\n                                <h2 className=\"mb-3\">Article Groups</h2>\n                                {props.showArtGroup.map((item: any, i: any) =>\n                                    <p className=\"mt-3\" key={i}> {item.name}</p>\n                                )}\n                            </IonLabel>\n                        </IonItem> : ''\n                    }\n                    {props.showArtCategory.length > 0 ?\n                        <IonItem >\n                            <IonLabel>\n                                <h2 className=\"mb-3\">Article Category</h2>\n                                {props.showArtCategory.map((item: any, i: any) =>\n                                    <p className=\"mt-3\" key={i}> {item.name}</p>\n                                )}\n                            </IonLabel>\n                        </IonItem> : ''\n                    }\n                    <IonItem>\n                        <IonLabel>\n                            <h2 className=\"mb-3\">Article Content</h2>\n                            <p dangerouslySetInnerHTML={{ __html: props.articleData.content }}></p>\n                        </IonLabel>\n                    </IonItem>\n                    <IonItem>\n                        <p>{props.articleData.date ? format(new Date(props.articleData.date), \"yyyy-MM-dd\") : format(new Date(), \"yyyy-MM-dd\")}</p>\n\n                    </IonItem>\n                </Stack>\n\n            </DialogContent>\n            <DialogActions sx={{ p: '1.25rem' }}>\n                <Button onClick={props.onClose}>Cancel</Button>\n                {(localStorage.getItem('role') == 'ar_mgmt') &&\n                    props.articleData.status === 'R'\n                    ? <Button onClick={approveArticle}>Publish</Button>\n                    : ''\n\n                }\n\n            </DialogActions>\n        </Dialog>\n    );\n}\nexport default Articles;"],"mappings":"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"},"metadata":{},"sourceType":"module"}