{"ast":null,"code":"import _slicedToArray from\"/home/shama/webapps/ionicblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useMemo,useState,useEffect}from'react';import MaterialReactTable from'material-react-table';import{Box,IconButton,Tooltip}from'@mui/material';import baseUrl,{api}from'../../../pages/Urls';import{IonContent}from'@ionic/react';import{Delete}from'@mui/icons-material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var PendingCourseEnrole=function PendingCourseEnrole(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),course=_useState2[0],setCourse=_useState2[1];var fetchCourse=function fetchCourse(){fetch(\"\".concat(baseUrl).concat(api.pendingEnrole),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(resp){setCourse(resp.reverse());});};useEffect(function(){fetchCourse();},[]);var removeEnrolement=function removeEnrolement(id){if(window.confirm('Want to remove this enrolement?')){fetch(\"\".concat(baseUrl).concat(api.disapprove).concat(id),{method:'DELETE',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(response){if(response.status===200){fetchCourse();}else{throw Error([response.status,response.statusText].join(' '));}}).catch(function(error){return console.log('error',error);});}};var columns=useMemo(function(){return[{accessorKey:'course_name',header:'Course Name'},{accessorKey:'description',header:'Description'},{accessorKey:'is_enrole',header:'Status',Cell:function Cell(_ref){var cell=_ref.cell;return cell.getValue()===0&&'Pending';}}];},[]);return/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-center mb-2\",children:\"Pending Enrole Courses\"}),/*#__PURE__*/_jsx(MaterialReactTable,{columns:columns,data:course,getRowId:function getRowId(row){return\"\".concat(row.id);},enableRowNumbers:true,enableColumnOrdering:true,positionActionsColumn:\"last\",enableRowActions:true,renderRowActions:function renderRowActions(_ref2){var row=_ref2.row,table=_ref2.table;return/*#__PURE__*/_jsx(Box,{sx:{display:'flex',gap:'1rem'},children:/*#__PURE__*/_jsx(Tooltip,{arrow:true,placement:\"right\",title:\"remove\",children:/*#__PURE__*/_jsx(IconButton,{style:{color:\"red\"},onClick:function onClick(){return removeEnrolement(row.id);},children:/*#__PURE__*/_jsx(Delete,{})})})});}})]})});};export default PendingCourseEnrole;","map":{"version":3,"names":["React","useMemo","useState","useEffect","MaterialReactTable","Box","IconButton","Tooltip","baseUrl","api","IonContent","Delete","PendingCourseEnrole","course","setCourse","fetchCourse","fetch","pendingEnrole","method","headers","Accept","localStorage","getItem","then","resp","json","reverse","removeEnrolement","id","window","confirm","disapprove","response","status","Error","statusText","join","catch","error","console","log","columns","accessorKey","header","Cell","cell","getValue","row","table","display","gap","color"],"sources":["/home/shama/webapps/ionicblog/src/pages/user/ucourse/PendingCourseEnrole.tsx"],"sourcesContent":["import React, { FC, useMemo, useState, useEffect } from 'react';\nimport MaterialReactTable, {\n    MRT_ColumnDef,\n\n} from 'material-react-table';\nimport {\n    Box,\n    IconButton,\n    Tooltip,\n} from '@mui/material';\nimport baseUrl, { api } from '../../../pages/Urls';\nimport { IonContent } from '@ionic/react';\nimport { Delete } from '@mui/icons-material';\ntype CourseData = {\n    id: string;\n    course_name: string;\n    description: string;\n    is_enrole: any;\n\n};\n\nconst PendingCourseEnrole: FC = () => {\n    const [course, setCourse] = useState([]);\n\n\n    const fetchCourse = () => {\n        fetch(`${baseUrl}${api.pendingEnrole}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setCourse(resp.reverse())\n            })\n    }\n    useEffect(() => {\n        fetchCourse();\n\n    }, [])\n\n    const removeEnrolement = (id: any) => {\n        if (window.confirm('Want to remove this enrolement?')) {\n            fetch(`${baseUrl}${api.disapprove}${id}`, {\n                method: 'DELETE',\n                headers: {\n                    Accept: 'application/json',\n                    'Content-Type': 'application/json',\n                    'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n                },\n\n\n            })\n                .then(response => {\n                    if (response.status === 200) {\n\n                        fetchCourse();\n                    }\n                    else {\n                        throw Error([response.status, response.statusText].join(' '));\n                    }\n                })\n\n                .catch(error => console.log('error', error));\n\n        }\n\n    }\n\n    const columns = useMemo<MRT_ColumnDef<CourseData>[]>(\n        () => [\n\n\n            {\n                accessorKey: 'course_name',\n                header: 'Course Name',\n\n            },\n            {\n                accessorKey: 'description',\n                header: 'Description',\n\n            },\n            {\n                accessorKey: 'is_enrole',\n                header: 'Status',\n                Cell: ({ cell }) => (\n                    cell.getValue<any>() === 0 && 'Pending'\n\n                ),\n            },\n\n        ],\n        [],\n    );\n\n\n    return (\n        <IonContent>\n            <div className=\"container mt-5\">\n                <h1 className='text-center mb-2'>Pending Enrole Courses</h1>\n                <MaterialReactTable\n                    columns={columns}\n                    data={course}\n                    getRowId={(row => `${row.id}`)}\n                    enableRowNumbers\n                    enableColumnOrdering\n                    positionActionsColumn=\"last\"\n                    enableRowActions\n                    renderRowActions={({ row, table }) => (\n                        <Box sx={{ display: 'flex', gap: '1rem' }}>\n\n                            <Tooltip arrow placement=\"right\" title=\"remove\">\n                                <IconButton style={{ color: \"red\" }} onClick={() => removeEnrolement(row.id)}>\n                                    <Delete />\n                                </IconButton>\n                            </Tooltip>\n\n                        </Box>\n                    )}\n\n                />\n\n            </div>\n        </IonContent>\n\n    );\n\n};\n\nexport default PendingCourseEnrole;"],"mappings":"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"},"metadata":{},"sourceType":"module"}