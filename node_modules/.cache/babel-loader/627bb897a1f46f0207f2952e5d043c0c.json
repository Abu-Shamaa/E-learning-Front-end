{"ast":null,"code":"import _objectSpread from\"/home/shama/webapps/ionicblog/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{IonCard,IonCardContent,IonCardHeader,IonButton,IonToolbar,IonTitle,IonInput,IonItem,IonLabel,IonHeader,IonContent}from\"@ionic/react\";import React from\"react\";import{useHistory}from\"react-router\";import'./Style.css';import baseUrl,{api}from\"./Urls\";import{useForm}from\"react-hook-form\";import{ErrorMessage}from\"@hookform/error-message\";import swal from'sweetalert';import{yupResolver}from\"@hookform/resolvers/yup\";import*as yup from\"yup\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var schema=yup.object().shape({email:yup.string().required('Email is required').test('Unique Email','Email already in use',// <- key, message\nfunction(value){if(value){return new Promise(function(resolve,reject){fetch(\"\".concat(baseUrl).concat(api.checkUser).concat(value),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){resolve(false);}).catch(function(error){resolve(true);});});}}),name:yup.string().required('Name is required'),password:yup.string().required('Password is required')});var SignUp=function SignUp(){var history=useHistory();var _useForm=useForm({defaultValues:{email:'',name:'',password:''},resolver:yupResolver(schema)}),handleSubmit=_useForm.handleSubmit,register=_useForm.register,errors=_useForm.formState.errors,reset=_useForm.reset;var signUp=function signUp(e){fetch(\"\".concat(baseUrl).concat(api.signUp),{method:'POST',headers:{Accept:'application/json','Content-Type':'application/json'},body:JSON.stringify(e)}).then(function(response){if(response.status==200){history.replace(\"/login\");reset({email:'',name:'',password:''});swal({title:\"Success!\",text:\"Article Created successfully\",icon:\"success\"});}}).catch(function(error){console.log('error',error);});};return/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsx(\"div\",{className:\"contain\",children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsx(IonToolbar,{children:/*#__PURE__*/_jsx(IonTitle,{children:\"Create Account\"})})})}),/*#__PURE__*/_jsx(IonCardContent,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(signUp),children:[/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Name\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({type:\"text\",placeholder:\"enter your full name\"},register(\"name\")))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"name\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Email\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({type:\"email\",placeholder:\"enter email\"},register(\"email\")))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"email\"})}),/*#__PURE__*/_jsxs(IonItem,{children:[/*#__PURE__*/_jsx(IonLabel,{position:\"stacked\",children:\"Password\"}),/*#__PURE__*/_jsx(IonInput,_objectSpread({type:\"password\",placeholder:\"password\"},register(\"password\")))]}),/*#__PURE__*/_jsx(\"p\",{style:{color:\"red\"},children:/*#__PURE__*/_jsx(ErrorMessage,{errors:errors,name:\"password\"})}),/*#__PURE__*/_jsx(\"div\",{style:{marginTop:\"3%\"},children:/*#__PURE__*/_jsx(IonButton,{color:\"primary\",type:\"submit\",children:\"Sign Up\"})})]})})]})})});};export default SignUp;","map":{"version":3,"names":["IonCard","IonCardContent","IonCardHeader","IonButton","IonToolbar","IonTitle","IonInput","IonItem","IonLabel","IonHeader","IonContent","React","useHistory","baseUrl","api","useForm","ErrorMessage","swal","yupResolver","yup","schema","object","shape","email","string","required","test","value","Promise","resolve","reject","fetch","checkUser","method","headers","Accept","then","res","catch","error","name","password","SignUp","history","defaultValues","resolver","handleSubmit","register","errors","formState","reset","signUp","e","body","JSON","stringify","response","status","replace","title","text","icon","console","log","color","marginTop"],"sources":["/home/shama/webapps/ionicblog/src/pages/SignUp.tsx"],"sourcesContent":["import {\n    IonCard,\n    IonCardContent,\n    IonCardHeader,\n    IonButton,\n    IonToolbar,\n    IonTitle,\n    IonInput,\n    IonItem,\n    IonLabel,\n    IonHeader,\n    IonContent,\n\n} from \"@ionic/react\";\nimport React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router\";\nimport './Style.css';\nimport baseUrl, { api } from \"./Urls\";\nimport { useForm, Controller } from \"react-hook-form\";\nimport { ErrorMessage } from \"@hookform/error-message\";\nimport swal from 'sweetalert';\nimport { yupResolver } from \"@hookform/resolvers/yup\";\nimport * as yup from \"yup\";\nconst schema = yup.object().shape({\n    email: yup.string()\n        .required('Email is required')\n        .test('Unique Email', 'Email already in use', // <- key, message\n\n            function (value) {\n                if (value) {\n                    return new Promise((resolve, reject) => {\n\n                        fetch(`${baseUrl}${api.checkUser}${value}`, {\n                            method: 'GET',\n                            headers: {\n                                Accept: 'application/json',\n                                'Content-Type': 'application/json',\n\n                            },\n                        })\n                            .then((res) => {\n                                resolve(false)\n                            })\n                            .catch((error) => {\n\n                                resolve(true);\n\n                            })\n\n\n                    })\n                }\n\n            }\n        ),\n    name: yup.string()\n        .required('Name is required'),\n    password: yup.string()\n        .required('Password is required')\n})\nconst SignUp: React.FC = () => {\n    const history = useHistory();\n    const {\n        handleSubmit,\n        register,\n        formState: { errors },\n        reset,\n    } = useForm({\n        defaultValues: {\n            email: '',\n            name: '',\n            password: '',\n\n\n        },\n        resolver: yupResolver(schema),\n    });\n\n    const signUp = (e: any) => {\n\n\n        fetch(`${baseUrl}${api.signUp}`, {\n            method: 'POST',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n            body: JSON.stringify(e),\n        })\n\n            .then((response) => {\n\n                if (response.status == 200) {\n                    history.replace(\"/login\");\n                    reset({\n                        email: '',\n                        name: '',\n                        password: '',\n\n                    })\n                    swal({\n                        title: \"Success!\",\n                        text: \"Article Created successfully\",\n                        icon: \"success\",\n                    });\n                }\n\n            })\n\n\n\n            .catch(error => {\n                console.log('error', error)\n\n            });\n\n    }\n\n\n\n    return (\n        <IonContent>\n            <div className=\"contain\">\n                <IonCard>\n                    <IonCardHeader>\n                        <IonHeader>\n                            <IonToolbar>\n                                <IonTitle>Create Account</IonTitle>\n                            </IonToolbar>\n                        </IonHeader>\n                    </IonCardHeader>\n\n                    <IonCardContent>\n                        <form onSubmit={handleSubmit(signUp)}>\n                            <IonItem>\n                                <IonLabel position=\"stacked\">Name</IonLabel>\n                                <IonInput type=\"text\"\n\n                                    placeholder=\"enter your full name\"\n\n                                    {...register(\"name\")}\n\n                                >\n                                </IonInput>\n\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"name\" />\n                            </p>\n\n                            <IonItem>\n                                <IonLabel position=\"stacked\">Email</IonLabel>\n                                <IonInput type=\"email\"\n                                    placeholder=\"enter email\"\n                                    {...register(\"email\")}\n\n                                >\n                                </IonInput>\n\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"email\" />\n                            </p>\n\n                            <IonItem>\n                                <IonLabel position=\"stacked\">Password</IonLabel>\n                                <IonInput type=\"password\"\n                                    placeholder=\"password\"\n                                    {...register(\"password\")}\n\n                                >\n                                </IonInput>\n                            </IonItem>\n                            <p style={{ color: \"red\" }}>\n                                <ErrorMessage errors={errors} name=\"password\" />\n                            </p>\n                            <div style={{ marginTop: \"3%\" }}>\n                                <IonButton color=\"primary\" type='submit'>Sign Up</IonButton>\n\n\n                            </div>\n                        </form>\n                    </IonCardContent>\n                </IonCard>\n            </div>\n        </IonContent>\n    );\n};\n\nexport default SignUp;"],"mappings":"kHAAA,OACIA,OADJ,CAEIC,cAFJ,CAGIC,aAHJ,CAIIC,SAJJ,CAKIC,UALJ,CAMIC,QANJ,CAOIC,QAPJ,CAQIC,OARJ,CASIC,QATJ,CAUIC,SAVJ,CAWIC,UAXJ,KAaO,cAbP,CAcA,MAAOC,MAAP,KAA2C,OAA3C,CACA,OAASC,UAAT,KAA2B,cAA3B,CACA,MAAO,aAAP,CACA,MAAOC,QAAP,EAAkBC,GAAlB,KAA6B,QAA7B,CACA,OAASC,OAAT,KAAoC,iBAApC,CACA,OAASC,YAAT,KAA6B,yBAA7B,CACA,MAAOC,KAAP,KAAiB,YAAjB,CACA,OAASC,WAAT,KAA4B,yBAA5B,CACA,MAAO,GAAKC,IAAZ,KAAqB,KAArB,C,wFACA,GAAMC,OAAM,CAAGD,GAAG,CAACE,MAAJ,GAAaC,KAAb,CAAmB,CAC9BC,KAAK,CAAEJ,GAAG,CAACK,MAAJ,GACFC,QADE,CACO,mBADP,EAEFC,IAFE,CAEG,cAFH,CAEmB,sBAFnB,CAE2C;AAE1C,SAAUC,KAAV,CAAiB,CACb,GAAIA,KAAJ,CAAW,CACP,MAAO,IAAIC,QAAJ,CAAY,SAACC,OAAD,CAAUC,MAAV,CAAqB,CAEpCC,KAAK,WAAIlB,OAAJ,SAAcC,GAAG,CAACkB,SAAlB,SAA8BL,KAA9B,EAAuC,CACxCM,MAAM,CAAE,KADgC,CAExCC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAF+B,CAAvC,CAAL,CAQKC,IARL,CAQU,SAACC,GAAD,CAAS,CACXR,OAAO,CAAC,KAAD,CAAP,CACH,CAVL,EAWKS,KAXL,CAWW,SAACC,KAAD,CAAW,CAEdV,OAAO,CAAC,IAAD,CAAP,CAEH,CAfL,EAkBH,CApBM,CAAP,CAqBH,CAEJ,CA7BF,CADuB,CAgC9BW,IAAI,CAAErB,GAAG,CAACK,MAAJ,GACDC,QADC,CACQ,kBADR,CAhCwB,CAkC9BgB,QAAQ,CAAEtB,GAAG,CAACK,MAAJ,GACLC,QADK,CACI,sBADJ,CAlCoB,CAAnB,CAAf,CAqCA,GAAMiB,OAAgB,CAAG,QAAnBA,OAAmB,EAAM,CAC3B,GAAMC,QAAO,CAAG/B,UAAU,EAA1B,CACA,aAKIG,OAAO,CAAC,CACR6B,aAAa,CAAE,CACXrB,KAAK,CAAE,EADI,CAEXiB,IAAI,CAAE,EAFK,CAGXC,QAAQ,CAAE,EAHC,CADP,CAQRI,QAAQ,CAAE3B,WAAW,CAACE,MAAD,CARb,CAAD,CALX,CACI0B,YADJ,UACIA,YADJ,CAEIC,QAFJ,UAEIA,QAFJ,CAGiBC,MAHjB,UAGIC,SAHJ,CAGiBD,MAHjB,CAIIE,KAJJ,UAIIA,KAJJ,CAgBA,GAAMC,OAAM,CAAG,QAATA,OAAS,CAACC,CAAD,CAAY,CAGvBrB,KAAK,WAAIlB,OAAJ,SAAcC,GAAG,CAACqC,MAAlB,EAA4B,CAC7BlB,MAAM,CAAE,MADqB,CAE7BC,OAAO,CAAE,CACLC,MAAM,CAAE,kBADH,CAEL,eAAgB,kBAFX,CAFoB,CAO7BkB,IAAI,CAAEC,IAAI,CAACC,SAAL,CAAeH,CAAf,CAPuB,CAA5B,CAAL,CAUKhB,IAVL,CAUU,SAACoB,QAAD,CAAc,CAEhB,GAAIA,QAAQ,CAACC,MAAT,EAAmB,GAAvB,CAA4B,CACxBd,OAAO,CAACe,OAAR,CAAgB,QAAhB,EACAR,KAAK,CAAC,CACF3B,KAAK,CAAE,EADL,CAEFiB,IAAI,CAAE,EAFJ,CAGFC,QAAQ,CAAE,EAHR,CAAD,CAAL,CAMAxB,IAAI,CAAC,CACD0C,KAAK,CAAE,UADN,CAEDC,IAAI,CAAE,8BAFL,CAGDC,IAAI,CAAE,SAHL,CAAD,CAAJ,CAKH,CAEJ,CA3BL,EA+BKvB,KA/BL,CA+BW,SAAAC,KAAK,CAAI,CACZuB,OAAO,CAACC,GAAR,CAAY,OAAZ,CAAqBxB,KAArB,EAEH,CAlCL,EAoCH,CAvCD,CA2CA,mBACI,KAAC,UAAD,wBACI,YAAK,SAAS,CAAC,SAAf,uBACI,MAAC,OAAD,yBACI,KAAC,aAAD,wBACI,KAAC,SAAD,wBACI,KAAC,UAAD,wBACI,KAAC,QAAD,6BADJ,EADJ,EADJ,EADJ,cASI,KAAC,cAAD,wBACI,cAAM,QAAQ,CAAEO,YAAY,CAACK,MAAD,CAA5B,wBACI,MAAC,OAAD,yBACI,KAAC,QAAD,EAAU,QAAQ,CAAC,SAAnB,kBADJ,cAEI,KAAC,QAAD,gBAAU,IAAI,CAAC,MAAf,CAEI,WAAW,CAAC,sBAFhB,EAIQJ,QAAQ,CAAC,MAAD,CAJhB,EAFJ,GADJ,cAaI,UAAG,KAAK,CAAE,CAAEiB,KAAK,CAAE,KAAT,CAAV,uBACI,KAAC,YAAD,EAAc,MAAM,CAAEhB,MAAtB,CAA8B,IAAI,CAAC,MAAnC,EADJ,EAbJ,cAiBI,MAAC,OAAD,yBACI,KAAC,QAAD,EAAU,QAAQ,CAAC,SAAnB,mBADJ,cAEI,KAAC,QAAD,gBAAU,IAAI,CAAC,OAAf,CACI,WAAW,CAAC,aADhB,EAEQD,QAAQ,CAAC,OAAD,CAFhB,EAFJ,GAjBJ,cA2BI,UAAG,KAAK,CAAE,CAAEiB,KAAK,CAAE,KAAT,CAAV,uBACI,KAAC,YAAD,EAAc,MAAM,CAAEhB,MAAtB,CAA8B,IAAI,CAAC,OAAnC,EADJ,EA3BJ,cA+BI,MAAC,OAAD,yBACI,KAAC,QAAD,EAAU,QAAQ,CAAC,SAAnB,sBADJ,cAEI,KAAC,QAAD,gBAAU,IAAI,CAAC,UAAf,CACI,WAAW,CAAC,UADhB,EAEQD,QAAQ,CAAC,UAAD,CAFhB,EAFJ,GA/BJ,cAwCI,UAAG,KAAK,CAAE,CAAEiB,KAAK,CAAE,KAAT,CAAV,uBACI,KAAC,YAAD,EAAc,MAAM,CAAEhB,MAAtB,CAA8B,IAAI,CAAC,UAAnC,EADJ,EAxCJ,cA2CI,YAAK,KAAK,CAAE,CAAEiB,SAAS,CAAE,IAAb,CAAZ,uBACI,KAAC,SAAD,EAAW,KAAK,CAAC,SAAjB,CAA2B,IAAI,CAAC,QAAhC,qBADJ,EA3CJ,GADJ,EATJ,GADJ,EADJ,EADJ,CAmEH,CAhID,CAkIA,cAAevB,OAAf"},"metadata":{},"sourceType":"module"}