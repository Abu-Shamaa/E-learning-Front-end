{"ast":null,"code":"import _slicedToArray from\"/mnt/disk2/ionicapps/elearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonContent,IonCard,IonCardContent,IonCardHeader,IonCardTitle,IonNote}from\"@ionic/react\";import React,{useState,useEffect}from'react';import Box from'@mui/material/Box';import InputAdornment from'@mui/material/InputAdornment';import TextField from'@mui/material/TextField';import SearchIcon from'@mui/icons-material/Search';import baseUrl,{api}from'../../pages/Urls';import{Link}from'react-router-dom';import ReactPaginate from\"react-paginate\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var MyCourse=function MyCourse(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),mycourse=_useState2[0],setMyCourse=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),pageNumber=_useState4[0],setPageNumber=_useState4[1];var mycoursePerPage=10;var pagesVisited=pageNumber*mycoursePerPage;var pageCount=Math.ceil(mycourse.length/mycoursePerPage);var changePage=function changePage(_ref){var selected=_ref.selected;setPageNumber(selected);};var fetchMycourse=function fetchMycourse(){fetch(\"\".concat(baseUrl).concat(api.myCourse),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(resp){setMyCourse(resp.reverse());});};useEffect(function(){fetchMycourse();},[]);var search=function search(text){if(text){var matches=mycourse.filter(function(item){var regex=new RegExp(\"\".concat(text),\"gi\");return item.course_name.match(regex);});setMyCourse(matches);}else{fetchMycourse();}};return/*#__PURE__*/_jsxs(IonContent,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-5 mb-5\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"h1 text-center\",children:\"My Courses\"}),/*#__PURE__*/_jsx(Box,{sx:{display:'flex',justifyContent:\"flex-end\",mx:1},children:/*#__PURE__*/_jsx(TextField,{id:\"input-with-icon-textfield\",InputProps:{startAdornment:/*#__PURE__*/_jsx(InputAdornment,{position:\"start\",children:/*#__PURE__*/_jsx(SearchIcon,{})})},variant:\"standard\",onChange:function onChange(e){return search(e.target.value);}})}),mycourse.length!=0?/*#__PURE__*/_jsx(Box,{sx:{width:'100%',mb:2,mt:3},children:(mycoursePerPage>0?mycourse.slice(pagesVisited,pagesVisited+mycoursePerPage):mycourse).map(function(item,i){return/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsx(IonCardTitle,{children:/*#__PURE__*/_jsxs(Link,{className:\"text-decoration-none\",to:\"/dashboard/mycourse/\".concat(item.course_id),children:[\" \",item.course_name]})})}),/*#__PURE__*/_jsx(IonCardContent,{children:item.description})]},i.toString());})}):/*#__PURE__*/_jsx(\"div\",{className:\"text-center mt-5\",children:/*#__PURE__*/_jsx(IonNote,{color:\"danger\",children:\"**No match data**\"})})]}),mycourse.length!=0&&mycourse.length>mycoursePerPage?/*#__PURE__*/_jsx(ReactPaginate,{nextLabel:\" >\",onPageChange:changePage,pageRangeDisplayed:3,marginPagesDisplayed:2,pageCount:pageCount,previousLabel:\"< \",pageClassName:\"page-item\",pageLinkClassName:\"page-link\",previousClassName:\"page-item\",previousLinkClassName:\"page-link\",nextClassName:\"page-item\",nextLinkClassName:\"page-link\",breakLabel:\"...\",breakClassName:\"page-item\",breakLinkClassName:\"page-link\",containerClassName:\"pagination\",activeClassName:\"active\",renderOnZeroPageCount:null||undefined}):'']});};export default MyCourse;","map":{"version":3,"names":["IonContent","IonCard","IonCardContent","IonCardHeader","IonCardTitle","IonNote","React","useState","useEffect","Box","InputAdornment","TextField","SearchIcon","baseUrl","api","Link","ReactPaginate","MyCourse","mycourse","setMyCourse","pageNumber","setPageNumber","mycoursePerPage","pagesVisited","pageCount","Math","ceil","length","changePage","selected","fetchMycourse","fetch","myCourse","method","headers","Accept","localStorage","getItem","then","resp","json","reverse","search","text","matches","filter","item","regex","RegExp","course_name","match","display","justifyContent","mx","startAdornment","e","target","value","width","mb","mt","slice","map","i","course_id","description","toString","undefined"],"sources":["/mnt/disk2/ionicapps/elearn/src/pages/teacher/MyCourse.tsx"],"sourcesContent":["import {\n    IonContent, IonCard, IonCardContent, IonCardHeader, IonCardTitle, IonNote,\n} from \"@ionic/react\";\nimport React, { useState, useEffect } from 'react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableHead from '@mui/material/TableHead';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport Box from '@mui/material/Box';\nimport InputAdornment from '@mui/material/InputAdornment';\nimport TextField from '@mui/material/TextField';\nimport SearchIcon from '@mui/icons-material/Search';\nimport TablePagination from '@mui/material/TablePagination';\nimport baseUrl, { api } from '../../pages/Urls';\nimport { Link } from 'react-router-dom';\nimport ReactPaginate from \"react-paginate\";\n\nconst MyCourse: React.FC = () => {\n\n    const [mycourse, setMyCourse] = useState([]);\n    const [pageNumber, setPageNumber] = useState(0);\n    const mycoursePerPage = 10;\n    const pagesVisited = pageNumber * mycoursePerPage;\n    const pageCount = Math.ceil(mycourse.length / mycoursePerPage);\n    const changePage = ({ selected }: any) => {\n        setPageNumber(selected);\n    };\n\n    const fetchMycourse = () => {\n        fetch(`${baseUrl}${api.myCourse}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setMyCourse(resp.reverse())\n            })\n    }\n    useEffect(() => {\n        fetchMycourse();\n    }, []);\n\n    const search = (text: any) => {\n        if (text) {\n            let matches = mycourse.filter((item: any) => {\n                const regex = new RegExp(`${text}`, \"gi\");\n                return item.course_name.match(regex);\n            })\n            setMyCourse(matches);\n        } else {\n            fetchMycourse();\n        }\n\n    };\n\n\n    return (\n        <IonContent>\n            <div className=\"container mt-5 mb-5\">\n                <p className=\"h1 text-center\">My Courses</p>\n                <Box sx={{ display: 'flex', justifyContent: \"flex-end\", mx: 1 }}>\n                    <TextField\n                        id=\"input-with-icon-textfield\"\n                        InputProps={{\n                            startAdornment: (\n                                <InputAdornment position=\"start\">\n                                    <SearchIcon />\n                                </InputAdornment>\n                            ),\n                        }}\n                        variant=\"standard\"\n                        onChange={(e: any) => search(e.target.value)}\n                    />\n                </Box>\n                {\n                    mycourse.length != 0 ?\n                        <Box sx={{ width: '100%', mb: 2, mt: 3 }}>\n\n\n                            {(mycoursePerPage > 0\n                                ? mycourse.slice(pagesVisited, pagesVisited + mycoursePerPage)\n                                : mycourse\n                            ).map((item: any, i: any) => (\n\n                                <IonCard key={i.toString()}>\n                                    <IonCardHeader>\n\n                                        <IonCardTitle>\n                                            <Link className='text-decoration-none' to={`/dashboard/mycourse/${item.course_id}`}> {item.course_name}</Link>\n                                        </IonCardTitle>\n\n                                    </IonCardHeader>\n\n                                    <IonCardContent>\n                                        {item.description}\n                                    </IonCardContent>\n\n                                </IonCard>\n\n\n                            ))}\n\n\n                        </Box>\n                        :\n                        <div className='text-center mt-5'>\n                            <IonNote color=\"danger\">**No match data**</IonNote>\n                        </div>\n\n                }\n\n\n            </div>\n            {\n                mycourse.length != 0 && mycourse.length > mycoursePerPage ?\n                    <ReactPaginate\n                        nextLabel=\" >\"\n                        onPageChange={changePage}\n                        pageRangeDisplayed={3}\n                        marginPagesDisplayed={2}\n                        pageCount={pageCount}\n                        previousLabel=\"< \"\n                        pageClassName=\"page-item\"\n                        pageLinkClassName=\"page-link\"\n                        previousClassName=\"page-item\"\n                        previousLinkClassName=\"page-link\"\n                        nextClassName=\"page-item\"\n                        nextLinkClassName=\"page-link\"\n                        breakLabel=\"...\"\n                        breakClassName=\"page-item\"\n                        breakLinkClassName=\"page-link\"\n                        containerClassName=\"pagination\"\n                        activeClassName=\"active\"\n                        renderOnZeroPageCount={null || undefined}\n                    /> : ''\n            }\n        </IonContent >\n    );\n\n}\n\nexport default MyCourse;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}