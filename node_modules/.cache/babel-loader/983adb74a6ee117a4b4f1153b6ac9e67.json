{"ast":null,"code":"import _slicedToArray from\"/mnt/disk2/ionicapps/elearn/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonCardHeader,IonTitle,IonToolbar,IonButtons,IonButton,IonCardContent,IonCard,IonItem,IonContent,IonCol,IonGrid,IonRow}from'@ionic/react';import React,{useState,useEffect}from'react';import{useHistory,useParams}from\"react-router\";import baseUrl,{api}from'../../../pages/Urls';import{format}from'date-fns';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ViewBlog=function ViewBlog(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),content=_useState4[0],setContent=_useState4[1];var _useState5=useState(format(new Date(),'yyyy-MM-dd')),_useState6=_slicedToArray(_useState5,2),date=_useState6[0],setDate=_useState6[1];var _useState7=useState([]),_useState8=_slicedToArray(_useState7,2),category=_useState8[0],setCategory=_useState8[1];var history=useHistory();var _useParams=useParams(),slug=_useParams.slug;var viewArticle=function viewArticle(){fetch(\"\".concat(baseUrl).concat(api.viewArticle).concat(slug),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json','Authorization':\"Bearer \".concat(localStorage.getItem(\"token\"))}}).then(function(resp){return resp.json();}).then(function(result){setTitle(result.title);setContent(result.content);setDate(result.date);setCategory(result.category);});};useEffect(function(){viewArticle();},[]);return/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(IonCard,{children:[/*#__PURE__*/_jsx(IonCardHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(IonTitle,{children:title})}),/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsxs(IonButton,{onClick:function onClick(){return history.goBack();},children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-backspace\",children:\" Back\"}),\" \"]})})]})}),/*#__PURE__*/_jsxs(IonCardContent,{children:[/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(\"h1\",{color:\"dark\",children:title})}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(\"h2\",{dangerouslySetInnerHTML:{__html:content}})}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(IonGrid,{children:/*#__PURE__*/_jsxs(IonRow,{children:[/*#__PURE__*/_jsxs(IonCol,{children:[\" \",format(new Date(date),'yyyy-MM-dd')]}),/*#__PURE__*/_jsx(IonCol,{children:category.map(function(item,i){return/*#__PURE__*/_jsx(\"a\",{className:\"text-decoration-none\",children:(i?', ':'')+item.name},i);})})]})})})]})]})});};export default ViewBlog;","map":{"version":3,"names":["IonCardHeader","IonTitle","IonToolbar","IonButtons","IonButton","IonCardContent","IonCard","IonItem","IonContent","IonCol","IonGrid","IonRow","React","useState","useEffect","useHistory","useParams","baseUrl","api","format","ViewBlog","title","setTitle","content","setContent","Date","date","setDate","category","setCategory","history","slug","viewArticle","fetch","method","headers","Accept","localStorage","getItem","then","resp","json","result","goBack","__html","map","item","i","name"],"sources":["/mnt/disk2/ionicapps/elearn/src/pages/user/blog/ViewBlog.tsx"],"sourcesContent":["\nimport {\n    IonCardHeader,\n    IonTitle,\n    IonToolbar,\n    IonButtons,\n    IonButton,\n    IonCardContent,\n    IonCard,\n    IonItem,\n    IonContent,\n    IonCol, IonGrid, IonRow\n\n} from '@ionic/react';\nimport React, { useState, useEffect } from 'react';\nimport { useHistory, useParams } from \"react-router\";\nimport baseUrl, { api } from '../../../pages/Urls';\nimport { format } from 'date-fns'\nconst ViewBlog: React.FC = () => {\n    type ViewBlogParams = {\n        slug: string;\n    };\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const [date, setDate] = useState(format(new Date(), 'yyyy-MM-dd'));\n    const [category, setCategory] = useState([]);\n\n    const history = useHistory();\n    const { slug } = useParams<ViewBlogParams>();\n\n    const viewArticle = () => {\n        fetch(`${baseUrl}${api.viewArticle}${slug}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n                'Authorization': `Bearer ${localStorage.getItem(\"token\")}`\n\n            }\n        })\n            .then(resp => resp.json())\n            .then(result => {\n                setTitle(result.title);\n                setContent(result.content);\n                setDate(result.date);\n                setCategory(result.category);\n            })\n    }\n    useEffect(() => {\n        viewArticle();\n\n    }, [])\n\n    return (\n        <IonContent>\n\n            <IonCard>\n\n                <IonCardHeader>\n                    <IonToolbar>\n                        <div className=\"text-center\">\n                            <IonTitle >\n                                {title}\n                            </IonTitle>\n                        </div>\n                        <IonButtons slot=\"start\">\n                            <IonButton onClick={() => history.goBack()} > <i className=\"bi bi-backspace\"> Back</i> </IonButton>\n                        </IonButtons>\n                    </IonToolbar>\n                </IonCardHeader>\n\n\n                <IonCardContent>\n                    <IonItem>\n                        <h1 color=\"dark\">{title}</h1>\n\n                    </IonItem>\n                    <IonItem>\n                        <h2 dangerouslySetInnerHTML={{ __html: content }}></h2>\n                    </IonItem>\n                    <IonItem>\n                        <IonGrid>\n                            <IonRow>\n                                <IonCol> {format(new Date(date), 'yyyy-MM-dd')}</IonCol>\n                                <IonCol>{category.map((item: any, i: any) => {\n                                    return <a key={i} className='text-decoration-none'>{(i ? ', ' : '') + item.name}</a>;\n                                })}</IonCol>\n\n                            </IonRow>\n                        </IonGrid>\n\n                    </IonItem>\n                </IonCardContent>\n\n\n\n            </IonCard>\n\n        </IonContent>\n\n    );\n};\nexport default ViewBlog;"],"mappings":"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"},"metadata":{},"sourceType":"module"}