{"ast":null,"code":"import _slicedToArray from\"/home/shama/webapps/ionicblog/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{IonHeader,IonTitle,IonToolbar,IonContent,IonItem,IonButtons,IonButton,IonCardContent,IonModal}from'@ionic/react';import Table from'@mui/material/Table';import TableBody from'@mui/material/TableBody';import TableCell from'@mui/material/TableCell';import TableContainer from'@mui/material/TableContainer';import TableRow from'@mui/material/TableRow';import Paper from'@mui/material/Paper';import TablePagination from'@mui/material/TablePagination';import'./Style.css';import React,{useState,useEffect}from'react';import baseUrl,{api}from'../pages/Urls';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Home=function Home(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),article=_useState2[0],setArticle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),title=_useState4[0],setTitle=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),content=_useState6[0],setContent=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),date=_useState8[0],setDate=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),isOpen=_useState10[0],setIsOpen=_useState10[1];var _React$useState=React.useState(0),_React$useState2=_slicedToArray(_React$useState,2),page=_React$useState2[0],setPage=_React$useState2[1];var _React$useState3=React.useState(10),_React$useState4=_slicedToArray(_React$useState3,2),rowsPerPage=_React$useState4[0],setRowsPerPage=_React$useState4[1];var _useState11=useState(\"\"),_useState12=_slicedToArray(_useState11,2),search=_useState12[0],setSearch=_useState12[1];useEffect(function(){fetch(\"\".concat(baseUrl).concat(api.blog),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(resp){return resp.json();}).then(function(resp){setArticle(resp.reverse());});},[]);var showModal=function showModal(id){setIsOpen(true);fetch(\"\".concat(baseUrl).concat(api.viewArticle).concat(id),{method:'GET',headers:{Accept:'application/json','Content-Type':'application/json'}}).then(function(res){return res.json();}).then(function(result){setTitle(result.title);setContent(result.content);setDate(result.date);}).catch(function(error){console.log(error);});};var handleChangePage=function handleChangePage(event,newPage){setPage(newPage);};var handleChangeRowsPerPage=function handleChangeRowsPerPage(event){setRowsPerPage(+event.target.value);setPage(0);};var emptyRows=page>0?Math.max(0,(1+page)*rowsPerPage-article.length):0;return/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mt-3\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Recent Articles Post\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group rounded mt-3\",children:/*#__PURE__*/_jsx(\"input\",{type:\"search\",className:\"form-control rounded mx-2\",placeholder:\"Search\",onChange:function onChange(e){return setSearch(e.target.value);}})}),/*#__PURE__*/_jsxs(Paper,{sx:{width:'100%',mb:2,mt:2},children:[/*#__PURE__*/_jsx(TableContainer,{children:/*#__PURE__*/_jsx(Table,{\"aria-label\":\"simple table\",children:/*#__PURE__*/_jsx(TableBody,{children:(rowsPerPage>0?article.slice(page*rowsPerPage,page*rowsPerPage+rowsPerPage):article).filter(function(item){return search.toLowerCase()===''?item:item.title.toLowerCase().includes(search);}).map(function(item,i){return/*#__PURE__*/_jsx(TableRow,{children:/*#__PURE__*/_jsxs(TableCell,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"h4\",{className:\"text-primary\",onClick:function onClick(e){return showModal(item.id);},children:item.title})}),/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(IonModal,{isOpen:isOpen,class:\"fullscreen\",children:[/*#__PURE__*/_jsx(IonHeader,{children:/*#__PURE__*/_jsxs(IonToolbar,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsx(IonTitle,{children:title})}),/*#__PURE__*/_jsx(IonButtons,{slot:\"start\",children:/*#__PURE__*/_jsxs(IonButton,{onClick:function onClick(){return setIsOpen(false);},children:[\" \",/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-backspace\",children:\" Back\"}),\" \"]})})]})}),/*#__PURE__*/_jsx(IonContent,{children:/*#__PURE__*/_jsxs(IonCardContent,{children:[/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(\"h1\",{color:\"dark\",children:title})}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(\"h2\",{dangerouslySetInnerHTML:{__html:content}})}),/*#__PURE__*/_jsx(IonItem,{children:/*#__PURE__*/_jsx(\"p\",{children:date})})]})})]})}),/*#__PURE__*/_jsx(\"div\",{children:item.date})]})},i.toString());})})})}),/*#__PURE__*/_jsx(TablePagination,{rowsPerPageOptions:[10,15,20],component:\"div\",count:article.length,rowsPerPage:rowsPerPage,page:page,onPageChange:handleChangePage,onRowsPerPageChange:handleChangeRowsPerPage})]})]})});};export default Home;","map":{"version":3,"names":["IonHeader","IonTitle","IonToolbar","IonContent","IonItem","IonButtons","IonButton","IonCardContent","IonModal","Table","TableBody","TableCell","TableContainer","TableRow","Paper","TablePagination","React","useState","useEffect","baseUrl","api","Home","article","setArticle","title","setTitle","content","setContent","date","setDate","isOpen","setIsOpen","page","setPage","rowsPerPage","setRowsPerPage","search","setSearch","fetch","blog","method","headers","Accept","then","resp","json","reverse","showModal","id","viewArticle","res","result","catch","error","console","log","handleChangePage","event","newPage","handleChangeRowsPerPage","target","value","emptyRows","Math","max","length","e","width","mb","mt","slice","filter","item","toLowerCase","includes","map","i","__html","toString"],"sources":["/home/shama/webapps/ionicblog/src/pages/Home.tsx"],"sourcesContent":["import {\n    IonHeader,\n    IonTitle,\n    IonToolbar,\n    IonContent,\n    IonItem,\n    IonButtons,\n    IonButton,\n    IonCardContent,\n    IonModal,\n\n} from '@ionic/react';\nimport Table from '@mui/material/Table';\nimport TableBody from '@mui/material/TableBody';\nimport TableCell from '@mui/material/TableCell';\nimport TableContainer from '@mui/material/TableContainer';\nimport TableRow from '@mui/material/TableRow';\nimport Paper from '@mui/material/Paper';\nimport TablePagination from '@mui/material/TablePagination';\nimport './Style.css';\nimport React, { useState, useEffect } from 'react';\nimport baseUrl, { api } from '../pages/Urls';\nconst Home: React.FC = () => {\n\n    const [article, setArticle] = useState([]);\n    const [title, setTitle] = useState('');\n    const [content, setContent] = useState('');\n    const [date, setDate] = useState('');\n    const [isOpen, setIsOpen] = useState(false);\n    const [page, setPage] = React.useState(0);\n    const [rowsPerPage, setRowsPerPage] = React.useState(10);\n    const [search, setSearch] = useState(\"\");\n\n    useEffect(() => {\n        fetch(`${baseUrl}${api.blog}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n        })\n            .then(resp => resp.json())\n            .then(resp => {\n                setArticle(resp.reverse())\n            })\n    }, [])\n    const showModal = (id: any) => {\n        setIsOpen(true);\n\n        fetch(`${baseUrl}${api.viewArticle}${id}`, {\n            method: 'GET',\n            headers: {\n                Accept: 'application/json',\n                'Content-Type': 'application/json',\n\n            },\n        })\n            .then(res => res.json())\n            .then(result => {\n                setTitle(result.title);\n                setContent(result.content);\n                setDate(result.date);\n            })\n            .catch(function (error) {\n                console.log(error);\n            })\n\n    };\n\n    const handleChangePage = (event: any, newPage: any) => {\n        setPage(newPage);\n    };\n\n    const handleChangeRowsPerPage = (event: any) => {\n        setRowsPerPage(+event.target.value);\n        setPage(0);\n    };\n    const emptyRows = page > 0 ? Math.max(0, (1 + page) * rowsPerPage - article.length) : 0;\n\n\n    return (\n        <IonContent>\n            <div className=\"container mt-3\">\n                <h2>Recent Articles Post</h2>\n\n                <div className=\"input-group rounded mt-3\">\n                    <input type=\"search\" className=\"form-control rounded mx-2\" placeholder=\"Search\" onChange={(e: any) => setSearch(e.target.value)} />\n\n                </div>\n                <Paper sx={{ width: '100%', mb: 2, mt: 2 }}>\n\n                    <TableContainer>\n                        <Table aria-label=\"simple table\">\n\n                            <TableBody>\n                                {(rowsPerPage > 0\n                                    ? article.slice(page * rowsPerPage, page * rowsPerPage + rowsPerPage)\n                                    : article\n                                ).filter((item: any) => {\n                                    return search.toLowerCase() === '' ? item :\n                                        item.title.toLowerCase().includes(search);\n\n                                }).map((item: any, i: any) => (\n                                    <TableRow key={i.toString()}>\n                                        <TableCell >\n                                            <div>\n                                                <h4 className=\"text-primary\" onClick={(e) => showModal(item.id)}>{item.title}</h4>\n                                            </div>\n                                            <>\n\n                                                <IonModal isOpen={isOpen} class=\"fullscreen\">\n\n                                                    <IonHeader>\n                                                        <IonToolbar>\n                                                            <div className=\"text-center\">\n                                                                <IonTitle >{title}\n                                                                </IonTitle>\n                                                            </div>\n                                                            <IonButtons slot=\"start\">\n                                                                <IonButton onClick={() => setIsOpen(false)} > <i className=\"bi bi-backspace\"> Back</i> </IonButton>\n                                                            </IonButtons>\n                                                        </IonToolbar>\n                                                    </IonHeader>\n\n                                                    <IonContent>\n                                                        <IonCardContent>\n                                                            <IonItem >\n                                                                <h1 color=\"dark\">{title}</h1>\n\n                                                            </IonItem>\n                                                            <IonItem>\n                                                                <h2 dangerouslySetInnerHTML={{ __html: content }}></h2>\n                                                            </IonItem>\n                                                            <IonItem>\n                                                                <p>{date}</p>\n\n                                                            </IonItem>\n                                                        </IonCardContent>\n\n                                                    </IonContent>\n\n                                                </IonModal>\n\n                                            </>\n                                            <div>\n                                                {item.date}\n                                            </div>\n\n                                        </TableCell>\n\n\n                                    </TableRow>\n                                ))}\n                            </TableBody>\n                        </Table>\n\n                    </TableContainer>\n                    <TablePagination\n                        rowsPerPageOptions={[10, 15, 20]}\n                        component=\"div\"\n                        count={article.length}\n                        rowsPerPage={rowsPerPage}\n                        page={page}\n                        onPageChange={handleChangePage}\n                        onRowsPerPageChange={handleChangeRowsPerPage}\n                    />\n                </Paper>\n            </div>\n        </IonContent>\n\n    );\n}\nexport default Home;"],"mappings":"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"},"metadata":{},"sourceType":"module"}